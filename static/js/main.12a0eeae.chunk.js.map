{"version":3,"sources":["img/slider.jpg","img/slider180deg.jpeg","img/header-logo.png","img/product-card-pics/product-card__favorite-fill.png","js/slider.js","Cart.js","Header.js","Newdeals.js","Homepage.js","Subscribe.js","Footer.js","Breadcrumbs.js","Product.js","Products.js","Sorting.js","Pagination.js","Viewed.js","PriceSlider.js","BrandFilter.js","Sidebar.js","Catalog.js","OrderProgress.js","OrderDone.js","Order.js","Similar.js","ProductCard.js","Favorite.js","Preloader.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","window","requestAnimationFrame","callback","setTimeout","f","document","querySelector","a","getElementsByClassName","button","arrows","img","V","Vo","iii","start","clear","step","time","progress","i","length","style","zIndex","opacity","onmouseenter","onmouseleave","j","onclick","this","value","slider","Cart","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","products","cart","nextProps","nextState","_this2","setState","reduce","sum","_ref","amount","_ref2","Promise","all","map","item","fetchSingleProduct","id","then","res","Array","from","data","_this3","overflowY","react_default","createElement","Fragment","className","product","good","filter","key","size","react_router_dom","to","concat","alt","title","backgroundImage","images","backgroundRepeat","backgroundSize","backgroundPosition","price","toLocaleString","aria-hidden","onClick","deleteGoodFromCart","fontWeight","color","Component","Header","activeCategory","activeSearch","activeProfile","activeCart","subcategories","search","getSearchParam","decodeURIComponent","categoryId","fetchActiveSubcategories","searchStr","event","preventDefault","showFilter","handleFilter","history","push","shutDownCart","contacts","phone","timework","days","categories","name","link","index","href","replace","join","src","logoImg","display","action","onSubmit","submitSearch","placeholder","onChange","handleSearch","target","src_Cart","_ref3","setActiveCategory","_ref4","sort","cls","children","withRouter","Newdeals","featured","featurePos","favoriteCls","getFavoriteCls","pos","localStorage","favorite","JSON","parse","includes","undefined","arguments","feature","handleFavorite","activeCategories","cat","find","firstGood","showPrevGoodPos","nextGood","showNextGoodPos","activeGood","handleCategory","handleSlider","brand","Homepage","require","slide1","slide2","isLoading","src_Newdeals","dateTime","Subscribe","sendSubscribe","formData","FormData","isValidated","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","slicedToArray","k","v","err","return","isSubscribed","subscribe","inputs","type","text","defaultChecked","footerMenu","code","payment","payments","social","socials","copyright","mail","Footer","location","pathname","src_Subscribe","Breadcrumbs","categoryLink","searchParams","categoryName","productId","productType","productTitle","links","keys","subcategoriesType","subcategoriesName","subcategoriesLink","slice","indexOf","defaultProps","Product","_isMounted","curImagePos","sizes","fetchSizes","arrow","changePosImage","selector","localStarogeFavorite","classList","contains","parentElement","clickProduct","currentTarget","handleImage","top","left","available","Products","src_Product","Sorting","sortValue","lastIndexOf","handleSort","Pagination","pages","status","page","scrollTo","Viewed","viewed","position","fetchProductsByParams","params","operator","_this4","changePosition","fetchProduct","PriceSlider","updatePriceFilter","debounce","minPrice","maxPrice","changeInputFromMouse","activeCircle","isFirstCircle","node","input1","input2","delta","nativeEvent","x","circlePos","curValue","changeInput","Math","round","max","timeout","productsWithoutFilters","ceil","activeTimeout","bind","assertThisInitialized","movePriceSlider","activateSlider","deactivateSlider","cancel","val","side","floor","width","onMouseUp","onMouseLeave","onMouseDown","onMouseMove","persist","right","ref","input","BrandFilter","brands","toLowerCase","flexDirection","margin","cursor","Sidebar","filters","activeFilter","changeCatalogHeight","checkFilter","querySelectorAll","forEach","remove","add","showColor","colorKey","textColors","Черный","backgroundColor","Бежевый","Серый","Бардо","Белый","Прозрачный","Синий","Красный","Темно-салатовый","Фиолетовый","Беж","Оранжевый","Металлик","Разноцветные","Коричневый","Серебряный","Черно-белый","Розовый","Label","multipleSize","handleSize","FilterSize","renderSentence","chosenFilter","contentNode","nextElementSibling","toggleOpener","src_PriceSlider","src_BrandFilter","handleDiscounte","Catalog","minHeight","clientHeight","filterParams","queryArray","_i","_Object$keys","curCategory","src_Breadcrumbs","assign","src_Sidebar","goods","src_Sorting","src_Products","src_Pagination","src_Viewed","OrderProrgess","validateForm","sumOrder","handleQuantity","error","isActiveForm","sendForm","order","email","onlineCard","offlineCard","offlineCash","paymentType","address","Order","fetchOrder","console","log","updateCartProducts","form","isForm","get","newAmount","addCart","fetchCart","message","src_OrderDone","info","OrderProgress","Similar","height","ProductCard","_updated","curImage","activeSize","cartBtn","quantity","match","addViewed","image","toggle","t","body","scrollTop","documentElement","scrollBy","upToCart","clearTimeout","basketIcon","tic","hiddenBlock","block","setInterval","clearInterval","blinkingCartBtn","_this5","data-image","dataset","zoomImage","sku","encodeURIComponent","isArray","material","season","reason","favoriteImage","handleCartBtn","textAlign","src_Similar","Favorite","fetchFavoriteProducts","newFavorite","favoriteIds","sortBy","b","Peloader","hidden","App","errors","fetchProps","prevProps","prevState","fetchProducts","createBrowserHistory","basename","process","unlisten","listen","getFetch","toConsumableArray","reasons","types","seasons","fetch","json","arrayParams","withoutPaginationSortBy","query","param","cartId","_this6","_this7","method","mode","credentials","headers","Content-Type","stringify","card-online","card-courier","cash","changedFavorite","arrayFavorites","isOrder","curProduct","_this8","changedViewed","arrayViewed","shift","split","paramKeys","values","_this9","withoutFilters","paramKey","searchKeys","_ret","url","func","errFunc","_this10","catch","_React$Component","_class","apply","inherits","createClass","React","FavoriteWithWrapper","withWrapper","OrderWithWrapper","CatalogWithWrapper","ProductCardWithWrapper","Preloader","src_Header","react_router","exact","path","src_Homepage","src_Footer","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.12a0eeae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/slider.d613d452.jpg\";","module.exports = __webpack_public_path__ + \"static/media/slider180deg.54638011.jpeg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGbSURBVHgBtZXfUcJAEMa/PeJ7SsAO6EDtACpgqMAg/8bxgeSJcQKSDoQKpAOxg3QgJeTJB4Gsm4vJhAECSvJ7ubm5vf3u9vZ2CRnYGlVhGPcg1MGoAhSAwiWwdsh98ndsu6NbwBiKTU1mpuzxEZKPrdh6j6vEjtINnXFTZp42PoxN454TO3enMlhH7AIwWTTpzlMB7jzXQeoNp2CagTjIcZ6xDRs0GSxIh+XKeI9DUigBNsa1gqrcluA8woTxbYkANVEa6kbJ6Wsoj5qSZzZRHmZ0gwDlESjJpyVKgz9EQM1RFiEWvx/N/ZS3qKJIGCua9OQfRBBaKBpmXVa0gNSYJYgWKAopKfTSn6UCmnWlFV0LlxL5kIqaTFMB8toBtty4KG1Zyvt2c5ct1yq7Tl7fl9i18V84bGed7wlokTh2Dv5M6CRx3/F3zFyaii3DEOc6Hw/sQyuUt40fXEvuOEWub24dOvlZAlqk60b94nXvI0YPStzQKZ7DSQHtK+p6Fel6iYhOxd1suUggFpmaqGw8KOnJ6y+bPPusdP4BZseaQWKl2X0AAAAASUVORK5CYII=\"","//Слайдер\r\n\r\nwindow.requestAnimationFrame = (function () { // для поддержки requestAnimationFrame всеми браузерами\r\n    return window.requestAnimationFrame ||\r\n        function (callback) {\r\n            return window.setTimeout(callback, 1000 / 60);\r\n        };\r\n})();\r\n\r\nfunction slider(f, img, button, V, Vo, arrows) {\r\n    var iii = 0,\r\n        start = null,\r\n        clear = 0;\r\n\r\n    function step(time) {\r\n        if (start === null) start = time;\r\n        var progress = time - start;\r\n        if (progress > V) {\r\n            start = null;\r\n            for (var i = 0; i < img.length; i++) {\r\n                img[i].style.zIndex = \"0\";\r\n                button[i].style.opacity = \"0.5\";\r\n            }\r\n            img[iii].style.zIndex = \"1\";\r\n            iii = ((iii != (img.length - 1)) ? (iii + 1) : 0);\r\n            img[iii].style.zIndex = \"2\";\r\n            img[iii].style.opacity = \"0\";\r\n            button[iii].style.opacity = \"1\";\r\n        } else if (img[iii].style.opacity != \"\") {\r\n            img[iii].style.opacity = ((progress / Vo < 1) ? (progress / Vo) : 1);\r\n        }\r\n        if (clear != \"0\" && progress > Vo) {} else {\r\n            requestAnimationFrame(step);\r\n        }\r\n    }\r\n    requestAnimationFrame(step);\r\n    f.onmouseenter = function () {\r\n        if (clear == \"0\") clear = \"1\";\r\n    } // при наведении на слайдер\r\n    f.onmouseleave = function () {\r\n        if (clear == \"1\") {\r\n            clear = \"0\";\r\n            requestAnimationFrame(step);\r\n        }\r\n    } // курсор убран со слайдера\r\n    for (var j = 0; j < button.length; j++) { // при нажатии кнопок\r\n        button[j].onclick = function () {\r\n            for (var i = 0; i < img.length; i++) {\r\n                img[i].style.zIndex = \"0\";\r\n                button[i].style.opacity = \"0.5\";\r\n            }\r\n            iii = +this.value;\r\n            img[this.value].style.zIndex = \"2\";\r\n            button[this.value].style.opacity = \"1\";\r\n        }\r\n        arrows[0].onclick = function () {\r\n            img[iii].style.zIndex = \"0\";\r\n            button[iii].style.opacity = \"0.5\";\r\n            iii--;\r\n            iii = ((iii < 0) ? img.length - 1 : iii);\r\n            img[iii].style.zIndex = \"2\";\r\n            button[iii].style.opacity = \"1\";\r\n        }\r\n        arrows[1].onclick = function () {\r\n            img[iii].style.zIndex = \"0\";\r\n            button[iii].style.opacity = \"0.5\";\r\n            iii++;\r\n            iii = ((iii === img.length) ? 0 : iii);\r\n            img[iii].style.zIndex = \"2\";\r\n            button[iii].style.opacity = \"1\";\r\n        }\r\n    }\r\n}\r\n\r\nvar f = document.querySelector('.slider__pictures'),\r\n    a = f.getElementsByClassName('slider__image'),\r\n    button = f.getElementsByClassName('slider__circles')[0].getElementsByClassName('slider__circle'),\r\n    arrows = f.getElementsByClassName('slider__arrow');\r\nslider(f, a, button, '4000', '1000', arrows);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass Cart extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            products: [],\r\n            cart: this.props.cart\r\n        }\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState) {\r\n        if (nextProps.cart.length === 0 && this.state.cart.length !== 0) {\r\n            this.setState({cart: [], products: []})\r\n        }\r\n        if (nextProps.cart.length && this.props.cart.reduce((sum,{amount}) => sum + amount,0) !== nextProps.cart.reduce((sum,{amount}) => sum + amount,0)) {     \r\n            Promise.all(\r\n                nextProps.cart.map(\r\n                    item => \r\n                    this.props.fetchSingleProduct(item.id)\r\n                )\r\n            )\r\n                .then(res => Array.from(res).map(item => item.data))\r\n                .then(res => {\r\n                    this.setState({products: res, cart: nextProps.cart})\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const style = this.state.cart.length > 3 ? {overflowY: 'auto'} : {overflowY: 'hidden'};\r\n        return this.state.products.length ? (\r\n            <React.Fragment>\r\n                <div className=\"basket-dropped__title\">В вашей корзине:</div>\r\n                <div className=\"basket-dropped__product-list product-list\" style={style}>\r\n                    {this.state.cart.map(\r\n                        product => {\r\n                            const good = this.state.products.filter(item => item.id === product.id)[0];\r\n                            return (                            \r\n                                <div className=\"product-list__item\" key={product.id + '_' + product.size}>\r\n                                    <Link className=\"product-list__pic\" \r\n                                        to={`/product_card/${product.id}`} \r\n                                        alt={good.title}\r\n                                        style={{\r\n                                            backgroundImage: `url(${good.images[0]})`,\r\n                                            backgroundRepeat: 'no-repeat',\r\n                                            backgroundSize: 'contain',\r\n                                            backgroundPosition: 'center'\r\n                                        }}>\r\n                                    </Link>\r\n                                    <Link className=\"product-list__product\" to={`/product_card/${product.id}`}>\r\n                                        {`${good.title} (размер: ${product.size})${product.amount > 1 ? `, ${product.amount} шт` : ''}`}\r\n                                    </Link>\r\n                                    <div className=\"product-list__fill\"></div>\r\n                                    <div className=\"product-list__price\">\r\n                                        {(product.amount * good.price).toLocaleString('RU-ru')}\r\n                                        <i className=\"fa fa-rub\" aria-hidden=\"true\"></i>\r\n                                    </div>\r\n                                    <div className=\"product-list__delete\" onClick={() => this.props.deleteGoodFromCart(product.id, product.size)}>\r\n                                        <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    )}\r\n                </div>\r\n                <Link className=\"basket-dropped__order-button\" to=\"/order\">Оформить заказ</Link>\r\n            </React.Fragment>\r\n        ) : <div className=\"basket-dropped__title\" style={{fontWeight: 'normal'}}>В корзине пока ничего нет. Не знаете, с чего начать? Посмотрите наши <Link to=\"/\" style={{color: '#fff'}}>новинки</Link>!</div>\r\n    }\r\n}\r\n\r\nCart.propTypes = {\r\n    fetchActiveSubcategories: PropTypes.func.isRequired,\r\n    categories: PropTypes.array.isRequired,\r\n    handleFilter: PropTypes.func.isRequired,\r\n    showFilter: PropTypes.func.isRequired,\r\n    getSearchParam: PropTypes.func.isRequired,\r\n    deleteGoodFromCart: PropTypes.func.isRequired,\r\n    cart: PropTypes.array.isRequired\r\n}        \r\n\r\nexport default Cart;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logoImg from './img/header-logo.png';\r\nimport Cart from './Cart';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeCategory: null,\r\n            activeSearch: false,\r\n            activeProfile: false,\r\n            activeCart: false,\r\n            subcategories: [],\r\n            search: this.props.getSearchParam('search') ? decodeURIComponent(this.props.getSearchParam('search')) : '',\r\n        }\r\n    }\r\n\r\n    setActiveCategory(categoryId) {\r\n        if (this.state.activeCategory === categoryId) \r\n            this.setState({activeCategory: null});\r\n        else {\r\n            this.setState({activeCategory: categoryId});\r\n            this.props.fetchActiveSubcategories(categoryId)\r\n                .then(res => this.setState({subcategories: res}))\r\n        }\r\n    }\r\n\r\n    sliceArrayFilter(length) {\r\n        return length > 21 ? 21 : (length < 8 ? length : (length - (length % 7)) );\r\n    }\r\n\r\n    handleSearch(searchStr) {\r\n        this.setState({search: searchStr});\r\n    }\r\n\r\n    shutDownCart() {        \r\n        this.setState({\r\n            activeCategory: null,\r\n            activeSearch: false,\r\n            activeProfile: false,\r\n            activeCart: false,\r\n        });\r\n    }\r\n\r\n    submitSearch(event) {\r\n        event.preventDefault();\r\n        if (this.state.search !== '') {\r\n            const filter = this.props.showFilter(['search'], [this.state.search], true);\r\n            this.props.handleFilter(filter);\r\n            this.props.history.push('/catalog' + filter);\r\n            this.shutDownCart();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const topMenuLinks = [{name:'Возврат', link:'#'}, {name:'Доставка и оплата', link:'#'}, {name:'О магазине', link:'#'}, {name:'Контакты', link:'#'}, {name:'Новости', link:'#'}],\r\n            contacts = {\r\n                phone: '+7 495 79 03 5 03',\r\n                timework: ['09-00', '21-00'],\r\n                days: ['Ежедневно']\r\n            },\r\n            description = 'Обувь и аксессуары для всей семьи',\r\n            categories = this.props.categories;\r\n        return (\r\n            <header className=\"header\">\r\n                <div className=\"top-menu\">\r\n                    <div className=\"wrapper\">\r\n                        <ul className=\"top-menu__items\">\r\n                            {topMenuLinks.map(({name, link}, index) => \r\n                                <li className=\"top-menu__item\" key={index}>\r\n                                    <a href={link}>{name}</a>\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div className=\"header-main\">\r\n                    <div className=\"header-main__wrapper wrapper\">\r\n                        <div className=\"header-main__phone\">\r\n                            <a href={`tel:${contacts.phone.replace(/ /g, '-')}`}>{contacts.phone}</a>\r\n                            <p>{contacts.days.join(',')}: с {contacts.timework[0]} до {contacts.timework[1]}</p>\r\n                        </div>\r\n                        <div className=\"header-main__logo\">\r\n                            <Link to=\"/\">\r\n                                <h1>\r\n                                    <img src={logoImg} alt=\"logotype\" />\r\n                                </h1>\r\n                            </Link>\r\n                            <p>{description}</p>\r\n                        </div>\r\n                        <div className=\"header-main__profile\">\r\n                            <div className=\"header-main__pics\">\r\n                                <div className={`header-main__pic header-main__pic_search ${this.state.activeSearch ? 'header-main__pic_search_is-hidden' : ''}`} \r\n                                    onClick={() => \r\n                                    this.setState({activeSearch: !this.state.activeSearch, activeCart: false, activeProfile: false, activeCategory: null})}>\r\n                                </div>\r\n                                <div className=\"header-main__pic_border\"></div>\r\n                                <div className=\"header-main__pic header-main__pic_profile\" \r\n                                    onClick={() => \r\n                                    this.setState({activeProfile: !this.state.activeProfile, activeCart: false, activeSearch: false, activeCategory: null})}>\r\n                                    <div className={`header-main__pic_profile_menu ${this.state.activeProfile ? 'header-main__pic_profile_menu_is-active' : ''}`}></div>\r\n                                </div>\r\n                                <div className=\"header-main__pic_border\"></div>\r\n                                <div className=\"header-main__pic header-main__pic_basket\" \r\n                                    onClick={() => \r\n                                    this.setState({activeCart: !this.state.activeCart, activeProfile: false, activeSearch: false, activeCategory: null})}>\r\n                                    <div className=\"header-main__pic_basket_full\" style={{display: this.props.cart.length ? 'block' : 'none'}}>{this.props.cart.reduce((sum,{amount}) => sum + amount,0)}</div>\r\n                                    <div className={`header-main__pic_basket_menu ${this.state.activeCart ? 'header-main__pic_basket_menu_is-active' : ''}`}></div>\r\n                                </div>\r\n                            </div>\r\n                            <form className={`header-main__search ${this.state.activeSearch ? 'header-main__search_active' : ''}`} action=\"\" onSubmit={(event) => this.submitSearch(event)}>\r\n                                <input placeholder=\"Поиск\" value={this.state.search} onChange={(event) => this.handleSearch(event.target.value)} />\r\n                                <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <div className={`header-main__hidden-panel hidden-panel ${this.state.activeProfile || this.state.activeCart ? 'header-main__hidden-panel_visible' : ''}`}>\r\n                        <div className=\"wrapper\">\r\n                            <div className={`hidden-panel__profile ${this.state.activeProfile ? 'hidden-panel__profile_visible' : ''}`}>\r\n                                <a href=\"#\">Личный кабинет</a>\r\n                                <Link to=\"/favorite\">\r\n                                    <i className=\"fa fa-heart-o\" aria-hidden=\"true\"></i>Избранное\r\n                                </Link>\r\n                                <a href=\"#\">Выйти</a>\r\n                            </div>\r\n                            <div className={`hidden-panel__basket basket-dropped ${this.state.activeCart ? 'hidden-panel__basket_visible' : ''}`}>\r\n                                <Cart {...this.props} />                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <nav className=\"main-menu\">\r\n                    <div className=\"wrapper\">\r\n                        <ul className=\"main-menu__items\">\r\n                            {categories.map(\r\n                                ({id, title}) => \r\n                                <li key={id} className={`main-menu__item ${this.state.activeCategory === id ? 'main-menu__item_active' : ''}`} onClick={() => this.setActiveCategory(id)} >\r\n                                    <a href=\"#\">{title}</a>\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>    \r\n                </nav>\r\n                <div className={`dropped-menu ${this.state.activeCategory ? 'dropped-menu_visible' : ''}`}>\r\n                    <div className=\"wrapper\">\r\n                        {this.state.subcategories.map(\r\n                            ({sort, name, cls, children}, index) =>\r\n                            <div className={`dropped-menu__lists${cls? ' ' + cls : ''}`} key={index} >\r\n                                <h3 className=\"dropped-menu__list-title\">{name}:</h3>\r\n                                <ul className=\"dropped-menu__list\">\r\n                                    {children.map(\r\n                                        (item, index) =>\r\n                                        <li className=\"dropped-menu__item\" key={index} >\r\n                                            <Link to={`/catalog?categoryId=${this.state.activeCategory}&${sort}=${item}`} onClick={() => this.props.handleFilter(`?categoryId=${this.state.activeCategory}&${sort}=${item}`)} >{decodeURIComponent(item)}</Link>\r\n                                        </li>\r\n                                    )}\r\n                                </ul>\r\n                            </div>\r\n                        )}                    \r\n                    </div>\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nHeader.propTypes = {\r\n    fetchActiveSubcategories: PropTypes.func.isRequired,\r\n    categories: PropTypes.array.isRequired,\r\n    handleFilter: PropTypes.func.isRequired,\r\n    showFilter: PropTypes.func.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    getSearchParam: PropTypes.func.isRequired\r\n}\r\n\r\nexport default withRouter(Header);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Newdeals extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            categoryId: null,\r\n            featured: this.props.featured,\r\n            featurePos: 0,\r\n            favoriteCls: this.getFavoriteCls()\r\n        }\r\n    }\r\n\r\n    handleSlider(pos) {\r\n        this.setState({\r\n            featurePos: pos,\r\n            favoriteCls: this.getFavoriteCls(pos)\r\n        });\r\n    }\r\n    \r\n    showPrevGoodPos(pos, length) {\r\n        return pos - 1 === -1 || (pos > length - 1) ? length - 1 : pos - 1;\r\n    }\r\n\r\n    showNextGoodPos(pos, length) {\r\n        return pos + 1 === length || (pos > length - 1) ? 0 : pos + 1;\r\n    }\r\n\r\n    getFavoriteCls(pos) {\r\n        if (localStorage.favorite) {\r\n            if (JSON.parse(localStorage.favorite).includes(this.state ? this.state.featured[pos !== undefined ? pos : this.state.featurePos].id : this.props.featured[0].id)) {                \r\n                return 'new-deals__product_favorite-chosen';\r\n            }\r\n        }\r\n        return 'new-deals__product_favorite';\r\n    }\r\n\r\n    handleCategory(event, categoryId = 0) {\r\n        event.preventDefault();        \r\n        if  (categoryId) {\r\n            this.setState({featured: this.props.featured.filter(feature => feature.categoryId === categoryId), featurePos: 0, categoryId: categoryId});\r\n        } else\r\n            this.setState({featured: this.props.featured, featurePos: 0, categoryId: null});\r\n    }\r\n\r\n    handleFavorite(id) {\r\n        this.props.handleFavorite(id);\r\n        this.setState({\r\n            favoriteCls: this.getFavoriteCls()\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const activeCategories = this.props.categories.filter(cat => this.props.featured.find(item => item.categoryId === cat.id));\r\n        const firstGood = this.state.featured[this.showPrevGoodPos(this.state.featurePos, this.state.featured.length)];\r\n        const nextGood = this.state.featured[this.showNextGoodPos(this.state.featurePos, this.state.featured.length)];\r\n        const activeGood = this.state.featured[this.state.featurePos];\r\n        \r\n        return (\r\n            <section className=\"new-deals wave-bottom\">\r\n                <h2 className=\"h2\">Новинки</h2>\r\n                <div className=\"new-deals__menu\">\r\n                    <ul className=\"new-deals__menu-items\">\r\n                        {activeCategories.map(({title, id}) =>\r\n                        <li key={id} className={`new-deals__menu-item ${this.state.categoryId === id ? 'new-deals__menu-item_active' : ''}`}>\r\n                            <a onClick={(event) => this.handleCategory(event, id) }>{title}</a>\r\n                        </li>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"new-deals__slider\">\r\n                    <div className=\"new-deals__arrow new-deals__arrow_left arrow\" onClick={() => this.handleSlider(this.showPrevGoodPos(this.state.featurePos, this.state.featured.length))}></div>\r\n                    <div className=\"new-deals__product new-deals__product_first\" \r\n                        style={{\r\n                            backgroundImage: `url(${firstGood.images[0]})`, \r\n                            backgroundSize: 'contain'\r\n                        }}>\r\n                        <Link to={`/product_card/${firstGood.id}`}></Link>\r\n                    </div>\r\n                    <div className=\"new-deals__product new-deals__product_active\" \r\n                        style={{\r\n                            backgroundImage: `url(${activeGood.images[0]})`, \r\n                            backgroundSize: 'contain'\r\n                        }}>\r\n                        <Link to={`/product_card/${activeGood.id}`}></Link>\r\n                        <div className={this.state.favoriteCls}\r\n                            onClick={() => this.handleFavorite(activeGood.id)}\r\n                            ></div>\r\n                    </div>\r\n                    <div className=\"new-deals__product new-deals__product_last\" \r\n                        style={{\r\n                            backgroundImage: `url(${nextGood.images[0]})`, \r\n                            backgroundSize: 'contain'\r\n                        }}>\r\n                        <Link to={`/product_card/${nextGood.id}`}></Link>\r\n                    </div>\r\n                    <div className=\"new-deals__arrow new-deals__arrow_right arrow\" onClick={() => this.handleSlider(this.showNextGoodPos(this.state.featurePos, this.state.featured.length))}></div>\r\n                </div>\r\n                <div className=\"new-deals__product-info\">\r\n                    <Link to={`/product_card/${activeGood.id}`} className=\"h3\">{activeGood.title}</Link>\r\n                    <p>Производитель:\r\n                        <span>{activeGood.brand}</span>\r\n                    </p>\r\n                    <h3 className=\"h3\">{`${activeGood.price.toLocaleString('ru-RU')} ₽`}</h3>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nNewdeals.propTypes = {\r\n    categories: PropTypes.array.isRequired,\r\n    featured: PropTypes.array.isRequired,\r\n    handleFavorite: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Newdeals;\r\n","import React, { Component } from 'react';\r\nimport Newdeals from './Newdeals';\r\nimport slide1 from './img/slider.jpg';\r\nimport slide2 from './img/slider180deg.jpeg';\r\n//import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nclass Homepage extends Component {\r\n  constructor(props) {\r\n    super(props);    \r\n  }\r\n\r\n  componentDidMount() {\r\n    require('./js/slider.js');\r\n  }\r\n  \r\n  render () {\r\n    return (\r\n      <React.Fragment>\r\n        <section className=\"slider\">\r\n          <div className=\"wrapper\">\r\n            <div className=\"slider__pictures\">          \r\n              <a className=\"slider__image\" href=\"#\" style={{zIndex: 1, opacity: 1}}>\r\n                <img src={slide1} alt=\"slide picture\" />\r\n              </a>\r\n              <a className=\"slider__image\" href=\"#\" style={{zIndex: 2, opacity: 0.182633}}>\r\n                <img src={slide2} alt=\"slide picture\" />\r\n              </a>\r\n              <a className=\"slider__image\" href=\"#\" style={{zIndex: 0, opacity: 1}}>\r\n                <img src={slide1} alt=\"slide picture\" />\r\n              </a>\r\n              <a className=\"slider__image\" href=\"#\" style={{zIndex: 0, opacity: 1}}>\r\n                <img src={slide2} alt=\"slide picture\" />\r\n              </a>\r\n              <div className=\"arrow slider__arrow slider__arrow_left\"></div>\r\n              <div className=\"arrow slider__arrow slider__arrow_right\"></div>\r\n              <div className=\"slider__circles\">\r\n                <button className=\"slider__circle\" value=\"0\" style={{opacity: 0.5}}></button>\r\n                <button className=\"slider__circle\" value=\"1\" style={{opacity: 1}}></button>\r\n                <button className=\"slider__circle\" value=\"2\" style={{opacity: 0.5}}></button>\r\n                <button className=\"slider__circle\" value=\"3\" style={{opacity: 0.5}}></button>\r\n              </div>\r\n              <h2 className=\"h2\">К весне готовы!</h2>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        {!this.props.isLoading ?\r\n          <Newdeals {...this.props} /> : ''}\r\n        <section className=\"sales-and-news wave-bottom\">\r\n          <h2 className=\"h2\">акции и новости</h2>\r\n          <div className=\"sales-and-news__items\">\r\n            <div className=\"sales-and-news__item sales-and-news__item_1\">\r\n              <a href=\"#\">\r\n                <h3 className=\"h3\">обувь к свадьбе</h3>\r\n              </a>\r\n            </div>\r\n            <div className=\"sales-and-news__item sales-and-news__item_2\">\r\n              <a href=\"#\">\r\n                <h3 className=\"h3\">20% скидка\r\n                  <br />\r\n                  <span>На летнюю обувь</span>\r\n                </h3>\r\n              </a>\r\n            </div>\r\n            <div className=\"sales-and-news__item sales-and-news__item_3\">\r\n              <a href=\"#\">\r\n                <h3 className=\"h3\">готовимся к лету!</h3>\r\n              </a>\r\n            </div>\r\n            <div className=\"sales-and-news__item sales-and-news__item_4\">\r\n              <a href=\"#\">\r\n                <h3 className=\"h3\">Больше покупок –\r\n                  <br />больше скидка!</h3>\r\n              </a>\r\n            </div>\r\n            <div className=\"sales-and-news__news\">\r\n              <div className=\"sales-and-news__arrow sales-and-news__arrow_up arrow\"></div>\r\n              <div className=\"sales-and-news__new\">\r\n                <time dateTime=\"2017-01-18 00:00\">18 января 2017</time>\r\n                <a href=\"#\">Американские резиновые сапоги Bogs идеально подходят для русской зимы!</a>\r\n              </div>\r\n              <div className=\"sales-and-news__new\">\r\n                <time dateTime=\"2017-05-18 00:00\">18 мая 2017</time>\r\n                <a href=\"#\">Магазины Bosa Noga</a>\r\n              </div>\r\n              <div className=\"sales-and-news__new\">\r\n                <time dateTime=\"2017-03-10 00:00\">10 марта 2017</time>\r\n                <a href=\"#\">Тенденция весны 2018: розовый и фуксия. 10 пар обуви для яркого образа</a>\r\n              </div>\r\n              <div className=\"sales-and-news__arrow sales-and-news__arrow_down arrow\"></div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section className=\"about-us\">\r\n          <h2 className=\"about-us__title\">Клиенты делают заказ\r\n            <br /> в интернет-магазине BosaNoga!</h2>\r\n          <p className=\"about-us__text\">\r\n            В Интернете можно встретить немало магазинов, предлагающих аксессуары. Но именно к нам хочется возвращаться снова и снова.\r\n          </p>\r\n          <h3 className=\"about-us__text_header\">Мы предлагаем вам особые условия:</h3>\r\n          <ol className=\"about-us__text\">\r\n            <li>Индивидуальный подход специалиста. Когда поступает новая коллекция обуви весна-лето или же коллекция обуви осень-зима\r\n              – покупателям бывает трудно сориентироваться во всем многообразии новинок. Наш менеджер по телефону поможет вам\r\n              определиться с товарами, подходящими именно вам.</li>\r\n            <li>Мы периодически проводим распродажи как женских и мужских, так и детских моделей. Вы будете приятно удивлены ценами\r\n              на аксессуары в мага- зине BosaNoga.</li>\r\n            <li>У нас всегда есть из чего выбрать. Неважно, какую категорию вы прос- матриваете: осень-зима, или же весна-лето –\r\n              вы всегда сможете найти ва- рианты, подходящие вам по внешнему виду и цене.</li>\r\n            <li>Мы несем ответственность за все товары.</li>\r\n            <li>Молодые мамы будут рады обширному ассортименту детских моделей.</li>\r\n          </ol>\r\n          <p className=\"about-us__text\">\r\n            Если вы ищете место, где представлены обувные новинки от самых известных брендов, то вы зашли по верному адресу.\r\n          </p>\r\n          <p className=\"about-us__text\"></p>\r\n          У нас представлены модели для мужчин, женщин, а также детские сапоги, босоножки, ботинки и туфли. Сделав заказ в нашем интернет-магазине,\r\n          вы сможете быть модным и стильным как осенью-зимой, так и весной-летом. Просто наберите номер нашего телефона, и мы\r\n          поможем вам определиться с покупкой.<p></p>\r\n          <span className=\"about-us__text_overlay\"></span>\r\n          <button className=\"about-us__text_button\">читать</button>\r\n        </section>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Homepage;","import React, { Component } from 'react';\r\n\r\nclass Subscribe extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.subscribe = {\r\n            title: 'подписаться на рассылку выгодных предложений',\r\n            inputs: [{\r\n                type: 'radio',\r\n                value: 'women',\r\n                text: 'Женское'\r\n            },{\r\n                type: 'radio',\r\n                value: 'men',\r\n                text: 'Мужское'\r\n            },{\r\n                type: 'radio',\r\n                value: 'both',\r\n                text: 'Всё',\r\n                defaultChecked: true\r\n            },{\r\n                type: 'email',\r\n                value: 'Ваш e-mail'\r\n            },{\r\n                type: 'submit',\r\n                value: 'ПОДПИСАТЬСЯ'\r\n            }]\r\n        };\r\n\r\n        this.state = {\r\n            isSubscribed: false\r\n        }\r\n    }\r\n\r\n    sendSubscribe = (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.target);\r\n        let isValidated = false;\r\n\r\n        for (const [k,v] of formData) {\r\n            if (k === 'email' && v !== '')\r\n                isValidated = true;\r\n        }\r\n        if (isValidated)\r\n            this.setState({isSubscribed: true})\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <section className=\"subscribe\">\r\n                <div className=\"subscribe__wrapper\">\r\n                    <h2 className=\"subscribe__title\">{this.subscribe.title}</h2>\r\n                    {this.state.isSubscribed ? <p>Подписка оформлена! Спасибо!</p>\r\n                    : <form className=\"subscribe__radios\" action=\"\" onSubmit={(event) => this.sendSubscribe(event)}>\r\n                        {this.subscribe.inputs.map(\r\n                            ({type, value, text, defaultChecked}, index) => \r\n                            {\r\n                                return type === 'radio' ? \r\n                                <label className=\"subscribe__radio_label\" key={index} >\r\n                                    <input className=\"subscribe__radio\" type={type} name=\"subscribe\" value={value} defaultChecked={defaultChecked ? defaultChecked : false} />\r\n                                    <div className=\"subscribe__radio_text\">{text}</div>\r\n                                </label> \r\n                                : <input className=\"subscribe__email\" key={index} name={type} type={type} placeholder={value} />\r\n                            }\r\n                        )}                        \r\n                    </form>}\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n        \r\nexport default Subscribe;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Subscribe from './Subscribe'\r\n\r\nconst footerMenu = [\r\n        {title:'О магазине', code:'about', children:['BosaNoga','Новости','Пресса']},\r\n        {title:'Коллекции', code:'collection', children:['Обувь','Аксессуары','Для дома']},\r\n        {title:'Помощь', code:'help', children:['Как купить?','Возврат','Контакты']}\r\n    ],\r\n    payment = {\r\n        title: 'Принимаем к оплате',\r\n        payments: ['paypal', 'master-card', 'visa', 'yandex', 'webmoney', 'qiwi']\r\n    },\r\n    social = {\r\n        title: 'Мы в соц.сетях',\r\n        socials: ['twitter', 'vk']\r\n    },\r\n    copyright = ['2009-2018 © BosaNoga.ru — модный интернет-магазин обуви', ' и аксессуаров. Все права защищены. Доставка по всей России!'],\r\n    contacts = {\r\n        phone: '+7 495 79 03 5 03',\r\n        timework: ['09-00', '21-00'],\r\n        days: ['Ежедневно'],\r\n        mail: 'office@bosanoga.ru'\r\n    }\r\n\r\nconst Footer = () => {\r\n\r\n    const changeFooterStyle = (locationPath) => {\r\n        let style = {};\r\n        if (locationPath === '/favorite') {\r\n            if (!localStorage.favorite) {\r\n                //style = {'position': 'fixed','left': '0','right': '0','bottom': '0'};\r\n            } else {\r\n                //style = !JSON.parse(localStorage.favorite).length ? {'position': 'fixed','left': '0','right': '0','bottom': '0'} : {};\r\n            }\r\n        }\r\n        return style;\r\n    }\r\n        \r\n    const style = changeFooterStyle(window.location.pathname);\r\n    return (\r\n        <footer className=\"footer\" style={style}>\r\n            <Subscribe />                \r\n            <div className=\"footer__bottom\">\r\n                <div className=\"wrapper\">\r\n                    <div className=\"footer__menus\">\r\n                        {footerMenu.map(\r\n                            ({title, code, children}, index) =>\r\n                            <div className={`footer__menu footer__menu_${code}`} key={index}>{title}\r\n                                <ul>\r\n                                    {children.map(\r\n                                        (title, index) =>\r\n                                        <li key={index}>\r\n                                            <Link to=\"/catalog\">{title}</Link>\r\n                                        </li>\r\n                                    )}\r\n                                </ul>\r\n                            </div>\r\n                        )}                    \r\n                    </div>\r\n                    <div className=\"footer__info\">\r\n                        <h3 className=\"footer__info_title\">{payment.title}:</h3>\r\n                        <div className=\"footer__paid-systems\">\r\n                            {payment.payments.map(\r\n                                (code, index) =>\r\n                                <div className={`footer__paid footer__paid_${code}`} key={index}></div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"footer__social-links\">\r\n                            <h3 className=\"footer__social-links_title\">{social.title}:</h3>                        \r\n                            {social.socials.map(\r\n                                (code, index) =>\r\n                                <div className={`footer__social-link footer__social-link_${code}`} key={index}></div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"footer__copyright\">{copyright[0]}<br />{copyright[1]}</div>\r\n                    </div>\r\n                    <div className=\"footer__contacts\">\r\n                        <a className=\"footer__phone\" href={`tel:${contacts.phone.replace(/ /g, '-')}`}>{contacts.phone}</a>\r\n                        <p className=\"footer__phone_text\">{contacts.days.join(',')}: с {contacts.timework[0]} до {contacts.timework[1]}</p>\r\n                        <a className=\"footer__email\" href={`mailto:${contacts.mail}`}>{contacts.mail}</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );    \r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Breadcrumbs = ({categoryId, categoryName, handleFilter, getSearchParam, productId, productType, productTitle}) => {\r\n    \r\n    const links = [{name: 'Главная', link: '/'}];\r\n    let categoryLink;\r\n    if (categoryId) {\r\n        if (categoryName === 'Результаты поиска') {\r\n            /* Результаты поиска */\r\n            //links.push({name: categoryName, link: `/catalog?search=${getSearchParam('search')}`});            \r\n        } else {\r\n            /* Категория товаров */\r\n            categoryLink = `/catalog?categoryId=${categoryId}`;\r\n            links.push({name: categoryName, link: categoryLink});\r\n        }\r\n    }\r\n\r\n    /* Карточка товаров */\r\n    if (productId) {\r\n        /* Подкатегория в каталоге */\r\n        links.push({name: productType, link: `${categoryLink}&type=${productType}`});\r\n        /* Ссылка на товар */\r\n        links.push({name: productTitle, link: `/product_card/${productId}`});\r\n    }\r\n\r\n    /* Каталог */\r\n    if (categoryName === 'Каталог') {\r\n        links.push({name: categoryName, link: '/catalog'});\r\n    }\r\n\r\n    /* Избранное */\r\n    if (categoryName === 'Избранное') {\r\n        links.push({name: categoryName, link: '/favorite'});\r\n    }\r\n\r\n    /* Офомление заказа */\r\n    if (categoryName === 'Оформление заказа') {\r\n        links.push({name: categoryName, link: '/order'});\r\n    }\r\n\r\n    /* Результаты поиска */\r\n    if (categoryName === 'Результаты поиска') {\r\n        links.push({name: categoryName, link: `/catalog?search=${getSearchParam('search')}`});\r\n    } else {\r\n        /* Подкатегория в каталоге */\r\n        let searchParams;\r\n        if (typeof getSearchParam === 'function') {\r\n            searchParams = getSearchParam();\r\n            if (Object.keys(searchParams).length > 1) {\r\n                const subcategoriesType = Object.keys(searchParams)[1];\r\n                const subcategoriesName = decodeURIComponent(searchParams[subcategoriesType]);\r\n                const subcategoriesLink = `${categoryLink}&${subcategoriesType}=${subcategoriesName}`;\r\n                if (subcategoriesType === 'reason' || subcategoriesType === 'season' || subcategoriesType === 'brand' || subcategoriesType === 'type')\r\n                    links.push({name: subcategoriesName, link: subcategoriesLink});\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"site-path\">\r\n            <ul className=\"site-path__items\">\r\n                {links.map(({name, link}, index) => \r\n                    <li className=\"site-path__item\" key={index}><Link to={link} onClick={() => {\r\n                        if (typeof handleFilter === 'function') {\r\n                            if (name !== productTitle)\r\n                                handleFilter( link.slice(link.indexOf('?')) );\r\n                        }\r\n                    }}>{name}</Link></li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nBreadcrumbs.defaultProps = {\r\n    categoryName: 'Каталог'\r\n}\r\n\r\nBreadcrumbs.propTypes = {\r\n    categoryId: PropTypes.number,\r\n    categoryName: PropTypes.string,\r\n    handleFilter: PropTypes.func,\r\n    getSearchParam: PropTypes.func,\r\n    productId: PropTypes.number,\r\n    productType: PropTypes.string,\r\n    productTitle: PropTypes.string\r\n}\r\n\r\nexport default Breadcrumbs;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Product extends Component {\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            curImagePos: 0,\r\n            sizes: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n\r\n        if (!this.props.product.sizes) {\r\n            this.props.fetchSizes(this.props.product.id)\r\n                .then(sizes => {\r\n                    if (this._isMounted)\r\n                        this.setState({sizes: sizes})\r\n                })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    handleImage(arrow) {\r\n        if (arrow === 'left')\r\n            this.setState({curImagePos: this.changePosImage('decrease')})\r\n        else\r\n            this.setState({curImagePos: this.changePosImage('increase')})\r\n    }\r\n    \r\n    changePosImage(selector) {\r\n        const length = this.props.product.images.length;\r\n        const curImagePos = this.state.curImagePos;          \r\n        //console.log(length, curImagePos, (curImagePos + 1) === length);\r\n        if (length === 1) \r\n            return curImagePos;\r\n        if (selector === 'increase') {          \r\n            return (curImagePos + 1 === length) ? 0 : curImagePos + 1;\r\n        } else {\r\n            return curImagePos === 0 ? (length - 1) : curImagePos - 1;\r\n        }\r\n    }\r\n\r\n    getFavoriteCls(localStarogeFavorite) {\r\n        return localStarogeFavorite ? \r\n            (JSON.parse(localStarogeFavorite).includes(this.props.product.id) ? 'product-catalogue__product_favorite-chosen' : 'product-catalogue__product_favorite')\r\n            : 'product-catalogue__product_favorite';\r\n    }\r\n\r\n    clickProduct(event) {\r\n        const activeBtn = event.target.classList.contains('product-catalogue__product_favorite-chosen') \r\n            || event.target.classList.contains('product-catalogue__product_favorite') \r\n            || event.target.parentElement.classList.contains('product-catalogue__product_favorite-chosen') \r\n            || event.target.parentElement.classList.contains('product-catalogue__product_favorite') \r\n            || event.target.classList.contains('arrow');\r\n        if (activeBtn)\r\n            event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        const product = this.props.product;\r\n        const sizes = product.sizes ? product.sizes : this.state.sizes;\r\n        return (\r\n            <Link key={product.id} to={`/product_card/${product.id}`} className=\"item-list__item-card item\" onClick={(event) => this.clickProduct(event)}>\r\n                <div className=\"item-pic\" style={{\r\n                        backgroundImage: `url(${product.images[this.state.curImagePos]})`, \r\n                        backgroundSize: 'contain', \r\n                        backgroundRepeat: 'no-repeat',\r\n                        backgroundPosition: 'center',\r\n                }}>\r\n                <div className={this.getFavoriteCls(localStorage.favorite)} onClick={(event) => {\r\n                        this.props.handleFavorite(product.id);\r\n                        event.currentTarget.classList = event.currentTarget.classList.contains('product-catalogue__product_favorite-chosen') ? ['product-catalogue__product_favorite'] : ['product-catalogue__product_favorite-chosen'];\r\n                    }\r\n                }>\r\n                    <p></p>\r\n                </div>\r\n                {product.images.length > 1 ?\r\n                    <React.Fragment>\r\n                        <div className=\"arrow arrow_left\" onClick={() => this.handleImage('left')}></div>\r\n                        <div className=\"arrow arrow_right\" onClick={() => this.handleImage('right')}></div>\r\n                    </React.Fragment>\r\n                     : ''}                \r\n                </div>\r\n                <div className=\"item-desc\">\r\n                    <h4 className=\"item-name\">{product.title}</h4>\r\n                    <p className=\"item-producer\">Производитель: <span className=\"producer\">{product.brand}</span></p>\r\n                    <p className=\"item-price\">{product.price.toLocaleString('ru-RU')}</p>\r\n                    {sizes ? (\r\n                        <div className=\"sizes\" style={{top: 'auto', left: 'auto'}}>\r\n                            <p className=\"sizes__title\">Размеры в наличии:</p>\r\n                            <p className=\"sizes__avalible\">{sizes.filter(item => item.available).map(item => item.size).join(', ')}</p>\r\n                        </div>\r\n                    ) : ''}                    \r\n                </div>\r\n            </Link>\r\n        )\r\n    }\r\n}\r\n\r\nProduct.propTypes = {\r\n    product: PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        categoryId: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        images: PropTypes.arrayOf(PropTypes.string),\r\n        price: PropTypes.number.isRequired,\r\n        brand: PropTypes.string.isRequired,\r\n    }),\r\n    fetchSizes: PropTypes.func.isRequired,\r\n    handleFavorite: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Product;","import React from 'react';\r\nimport Product from './Product';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Products = ({products, handleFavorite, fetchSizes}) => {\r\n    return products ? products.map(product =>\r\n        <Product key={product.id} product={product} handleFavorite={handleFavorite} fetchSizes={fetchSizes} />        \r\n        )\r\n        : <div>Нет товаров в данной категории</div>      \r\n}\r\n\r\nProducts.propTypes = {\r\n    products: PropTypes.array.isRequired,\r\n    handleFavorite: PropTypes.func.isRequired,\r\n    fetchSizes: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Products;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Sorting = ({ handleFilter, getSearchParam, showFilter, history }) => {\r\n    const handleSort = (sortValue) => {\r\n        const filter = showFilter(['sortBy'], [sortValue]);\r\n        history.push(window.location.pathname.slice(window.location.pathname.lastIndexOf('/')) + filter);\r\n        handleFilter(filter);\r\n    }\r\n\r\n    return (\r\n        <select name=\"sorting\" id=\"sorting\" value={getSearchParam('sortBy')} onChange={(event) => handleSort(event.target.value)}>            \r\n            <option value=\"price\">по цене</option>\r\n            <option value=\"popularity\">по популярности</option>\r\n        </select>\r\n    )\r\n}\r\n\r\nSorting.propTypes = {\r\n    handleFilter: PropTypes.func.isRequired,\r\n    getSearchParam: PropTypes.func.isRequired,\r\n    showFilter: PropTypes.func.isRequired,\r\n    history: PropTypes.object\r\n}\r\n\r\nexport default Sorting;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Pagination = ({products, handleFilter, getSearchParam, showFilter }) => {\r\n    let pages = [];\r\n    for (let i = 1; i <= products.pages; i++) {\r\n        pages.push(i);\r\n    }\r\n    const location = window.location.pathname.slice(window.location.pathname.lastIndexOf('/'));\r\n\r\n    return products.status === \"ok\" && products.pages > 1 ? (\r\n        <div className=\"product-catalogue__pagination\">\r\n            <div className=\"page-nav-wrapper\">\r\n                <div className=\"angle-back\">\r\n                    {products.page !== 1 ? <Link to={location + showFilter(['page'], [products.page - 1])} onClick={() => {\r\n                            handleFilter(showFilter(['page'], [products.page - 1]));\r\n                            window.scrollTo(0, 0)\r\n                        }}></Link> : ''}\r\n                </div>\r\n                <ul>\r\n                    {pages.map(\r\n                        (page, index) =>\r\n                        <li key={index} className={page === products.page ? 'active' : ''}>\r\n                            <Link to={location + showFilter(['page'], [page])} onClick={() => {\r\n                                handleFilter(showFilter(['page'], [page]));\r\n                                window.scrollTo(0, 0)\r\n                            }}>{page}</Link>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n                <div className=\"angle-forward\">\r\n                    {products.pages !== +getSearchParam('page') ? <Link to={location + showFilter(['page'], [products.page + 1])} onClick={() => {\r\n                            handleFilter(showFilter(['page'], [products.page + 1]));\r\n                            window.scrollTo(0, 0)\r\n                        }}></Link> : ''}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : '';\r\n}\r\n\r\nPagination.propTypes = {\r\n    products: PropTypes.object.isRequired,\r\n    handleFilter: PropTypes.func.isRequired,\r\n    getSearchParam: PropTypes.func.isRequired,\r\n    showFilter: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Pagination;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Viewed extends Component {\r\n    _isMounted = false;\r\n  \r\n    constructor(props) {\r\n      super(props);\r\n  \r\n      this.state = {\r\n        viewed: localStorage.viewed ? JSON.parse(localStorage.viewed) : [],\r\n        products: [],\r\n        position: 0,\r\n      }\r\n    }\r\n    \r\n    componentWillMount() {\r\n      this._isMounted = true;\r\n      \r\n      if (this.state.viewed.length)\r\n        this.props.fetchProductsByParams([{key:'id', params: localStorage.viewed ? JSON.parse(localStorage.viewed) : []}], true)\r\n          .then(res => {\r\n            if (this._isMounted) {\r\n              this.setState({products: res.data})\r\n            }\r\n          })\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState) {\r\n      this._isMounted = true;\r\n\r\n      if (localStorage.viewed && JSON.parse(localStorage.viewed).length !== nextState.products.length && this._isMounted) {\r\n        this.props.fetchProductsByParams([{key:'id', params: localStorage.viewed ? JSON.parse(localStorage.viewed) : []}], true)\r\n          .then(res => this.setState({products: res.data}))\r\n      }\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    changePosition(operator) {\r\n        if (operator === '+') {\r\n            if (this.state.position < this.state.products.length - 5)\r\n                this.setState({position: this.state.position + 1})\r\n        } else {\r\n            if (this.state.position > 0)\r\n                this.setState({position: this.state.position - 1})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const products = this.state.products;\r\n\r\n        return products.length ? (\r\n            <section className={`product-${this.props.cls}__overlooked-slider`}>\r\n                <h3>Вы смотрели:</h3>\r\n                <div className=\"overlooked-slider\">\r\n                    {products.length > 5 && this.state.position !== 0 ? <div className=\"overlooked-slider__arrow overlooked-slider__arrow_left arrow\" onClick={() => this.changePosition('-')}></div> : ''}\r\n                    {products.slice(this.state.position, this.state.position + 5).map(\r\n                        product => \r\n                        <div key={product.id} className=\"overlooked-slider__item\" style={{backgroundImage: `url(${product.images[0]})`}}>\r\n                            <Link to={`/product_card/${product.id}`} onClick={() => this.props.fetchProduct ? this.props.fetchProduct(product.id) : ''}></Link>\r\n                        </div>\r\n                    )}\r\n                    {products.length > 5 && this.state.position !== this.state.products.length - 5 ? <div className=\"overlooked-slider__arrow overlooked-slider__arrow_right arrow\" onClick={() => this.changePosition('+')}></div> : ''}\r\n                </div>\r\n            </section>\r\n        ) : '';\r\n    }\r\n}\r\n\r\nViewed.propTypes = {\r\n  fetchProductsByParams: PropTypes.func.isRequired,\r\n  fetchProduct: PropTypes.func,\r\n  cls: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Viewed;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { debounce } from \"lodash\";\r\n\r\nclass PriceSlider extends Component { \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            minPrice: this.props.getSearchParam('minPrice') ? +this.props.getSearchParam('minPrice') : 0,\r\n            maxPrice: this.props.getSearchParam('maxPrice') && +this.props.getSearchParam('maxPrice') <= (this.props.productsWithoutFilters[0] ? this.props.productsWithoutFilters[0].price : 0) ? +this.props.getSearchParam('maxPrice') \r\n                : this.props.productsWithoutFilters.length ? Math.ceil(this.props.productsWithoutFilters[0].price / 100) * 100 : 0,\r\n            max: this.props.productsWithoutFilters.length ? this.props.productsWithoutFilters[0].price : 0,\r\n            activeCircle: false,\r\n            circlePos: null\r\n        }\r\n\r\n        this.timeout = 200;\r\n        this.activeTimeout = false;\r\n        \r\n        this.changeInput.bind(this);\r\n        this.movePriceSlider.bind(this);\r\n        this.changeInputFromMouse.bind(this);\r\n        this.activateSlider.bind(this);\r\n        this.deactivateSlider.bind(this);\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState) {\r\n        if ((!this.state.activeCircle && (this.state.minPrice !== nextState.minPrice || this.state.maxPrice !== nextState.maxPrice)) || this.state.activeCircle && this.state.activeCircle !== nextState.activeCircle) {\r\n            this.updatePriceFilter(nextState);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {      \r\n        this.updatePriceFilter.cancel();\r\n        this.changeInputFromMouse.cancel();        \r\n        //console.log(this.state)\r\n    }\r\n\r\n    updatePriceFilter = debounce((nextState) => {\r\n        const filter = this.props.showFilter(['minPrice', 'maxPrice'], [nextState.minPrice, nextState.maxPrice], true);\r\n        this.props.history.push(window.location.pathname + filter);\r\n        this.props.handleFilter(filter);\r\n    }, 500)\r\n\r\n    /* Событие при изменение значения инпута */\r\n    changeInput(node, val = null) {\r\n        const value = val ? val : node.value;\r\n        if (node.classList.contains('input-1')) {\r\n            if (value === '')\r\n                this.setState({minPrice: 0});\r\n            else if (+value.replace(/\\D+/g, '') > this.state.maxPrice)\r\n                this.setState({minPrice: this.state.maxPrice});\r\n            else\r\n                this.setState({minPrice: +value.replace(/\\D+/g, '')});\r\n        } else {\r\n            if (value === '' || value > this.state.max)\r\n                this.setState({maxPrice: this.state.max});\r\n            else if (+value.replace(/\\D+/g, '') < this.state.minPrice)\r\n                this.setState({maxPrice: this.state.minPrice});\r\n            else\r\n                this.setState({maxPrice: +value.replace(/\\D+/g, '')});\r\n        }\r\n    }\r\n\r\n    /* Изменение слайдера цены относительно инпутов */\r\n    movePriceSlider(side) {\r\n        if (side === 'left')\r\n            return this.state.max ? Math.floor(215 / this.state.max * this.state.minPrice) : 0;\r\n        else\r\n            return this.state.max ? Math.floor(215 / this.state.max * (this.state.max - this.state.maxPrice)) : 0;\r\n    }\r\n\r\n    /* Изменение слайдера цены по движению мыши */\r\n    changeInputFromMouse = debounce((event) => {\r\n        if (this.state.activeCircle) {\r\n            const isFirstCircle = event.target.classList.contains('circle-1');\r\n            const node = isFirstCircle ? this.input1 : this.input2;\r\n            const delta = event.nativeEvent.x - this.state.circlePos;\r\n            const curValue = isFirstCircle ? this.state.minPrice : this.state.maxPrice;\r\n\r\n            this.changeInput(node, '' + (curValue + Math.round(delta * this.state.max / 240 / 4 / 100) * 100) );\r\n        }\r\n    }, this.timeout)\r\n\r\n    activateSlider(event) {\r\n        this.activeTimeout = true;\r\n        this.setState({activeCircle: true, circlePos: event.nativeEvent.x});\r\n    }\r\n\r\n    deactivateSlider() {\r\n        this.activeTimeout = false;\r\n        this.setState({activeCircle: false});\r\n    }\r\n\r\n    render() {        \r\n        const width = 240 - this.movePriceSlider('left') - this.movePriceSlider('right') - 25;\r\n        return ( \r\n            <div className=\"price-slider\"\r\n                onMouseUp={() => this.deactivateSlider()}\r\n                onMouseLeave={() => this.deactivateSlider()}>\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-1\" style={{left: `${this.movePriceSlider('left')}px`}}\r\n                        onMouseDown={(event) => this.activateSlider(event)}\r\n                        onMouseMove={(event) => {\r\n                            event.persist();\r\n                            this.changeInputFromMouse(event);\r\n                        }}                        \r\n                        ></div>\r\n                    <div className=\"line-white\"></div>\r\n                    <div className=\"line-colored\" style={{left: `${this.movePriceSlider('left') + 25}px`, width: `${width}px`}}></div>\r\n                    <div className=\"circle-2\" style={{right: `${this.movePriceSlider('right')}px`}} \r\n                        onMouseDown={(event) => this.activateSlider(event)}\r\n                        onMouseMove={(event) => {\r\n                            event.persist();\r\n                            this.changeInputFromMouse(event);\r\n                        }}></div>\r\n                </div>\r\n                <div className=\"counter\">\r\n                    <input type=\"text\" className=\"input-1\" ref={(input) => { this.input1 = input; }} value={this.state.minPrice} onChange={(event) => this.changeInput(event.target)} />\r\n                    <div className=\"input-separator\"></div>\r\n                    <input type=\"text\" className=\"input-2\" ref={(input) => { this.input2 = input; }} value={this.state.maxPrice} onChange={(event) => this.changeInput(event.target)} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nPriceSlider.propTypes = {\r\n    handleFilter: PropTypes.func.isRequired,\r\n    getSearchParam: PropTypes.func.isRequired,    \r\n    showFilter: PropTypes.func.isRequired,\r\n    productsWithoutFilters: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number\r\n    })).isRequired,\r\n    history: PropTypes.object.isRequired\r\n}\r\n\r\nexport default PriceSlider;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass BrandFilter extends Component {\r\n    constructor(props) {\r\n        super(props);        \r\n\r\n        this.state = {\r\n            search: this.props.getSearchParam('brand') ? decodeURIComponent(this.props.getSearchParam('brand')) : '',\r\n            brands: []\r\n        }        \r\n    }\r\n\r\n    handleSearch(searchStr) {\r\n        this.setState({\r\n            search: searchStr,\r\n            brands: searchStr === '' ? [] : this.props.brands.filter(item => item.toLowerCase().indexOf(searchStr.toLowerCase()) !== -1).slice(0, 5)\r\n        });\r\n    }\r\n\r\n    submitSearch(event) {\r\n        event.preventDefault();\r\n        const filter = this.props.showFilter(['brand'], [this.state.search], true);\r\n        this.props.history.push(window.location.pathname + filter);\r\n        this.props.handleFilter(filter);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"sidebar__brand\">\r\n                <h3>Бренд</h3>\r\n                <form action=\"\" className=\"brand-search\" onSubmit={(event) => this.submitSearch(event)}>\r\n                    <input type=\"search\" onChange={(event) => this.handleSearch(event.target.value)} value={this.state.search} className=\"brand-search\" id=\"brand-search\" placeholder=\"Поиск\" />\r\n                    {this.state.brands.length ? \r\n                        <ul style={{flexDirection: 'column', position: 'absolute', zIndex: 2, left: '21px', top: '41px'}}>\r\n                            {this.state.brands.map(\r\n                                (brand, index) =>\r\n                                <li key={index} style={{margin: '10px 0', cursor: 'pointer'}} onClick={() => this.setState({search: brand, brands: []})}>{brand}</li>\r\n                            )}                            \r\n                        </ul>\r\n                    : ''}                    \r\n                    <input type=\"submit\" value=\"\" name=\"submit\" className=\"submit\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nBrandFilter.propTypes = {\r\n    getSearchParam: PropTypes.func.isRequired,\r\n    showFilter: PropTypes.func.isRequired,\r\n    handleFilter: PropTypes.func.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    brands: PropTypes.array.isRequired\r\n}\r\n\r\nexport default BrandFilter;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport PriceSlider from './PriceSlider';\r\nimport BrandFilter from './BrandFilter';\r\n\r\nconst Sidebar = ({filters, productsWithoutFilters, activeFilter, handleFilter, getSearchParam, showFilter, history, changeCatalogHeight, categories}) => {  \r\n    \r\n    /* Открытие/закрытие фильтра */\r\n    const toggleOpener = (node) => {\r\n        const contentNode = node.parentElement.nextElementSibling;\r\n        if (node.classList.contains('opener-down')) {\r\n            node.classList = ['opener-up'];\r\n            if (contentNode)\r\n                contentNode.style.display = 'none';\r\n        } else {\r\n            node.classList = ['opener-down'];\r\n            if (contentNode)\r\n            contentNode.style.display = 'flex';\r\n        }\r\n        changeCatalogHeight();\r\n    }\r\n\r\n    /* Проверка выбран ли фильтр */\r\n    const checkFilter = (event, filter) => {\r\n        const node = event.target;\r\n        if (node.classList.contains('chosen'))\r\n            return event.preventDefault();\r\n        node.parentElement.parentElement.querySelectorAll('a').forEach(node => node.classList.remove('chosen'));\r\n        node.classList.add('chosen');\r\n        handleFilter(filter);\r\n    }\r\n\r\n    /* вывод цвета по названию цвета */\r\n    const showColor = (colorKey) => {\r\n        const textColors = {\r\n            'Черный': {backgroundColor: '#000000'},\r\n            'Бежевый': {backgroundColor: '#E5DBC5'},\r\n            'Серый': {backgroundColor: '#808080'},\r\n            'Бардо': {backgroundColor: '#9B2D30'},\r\n            'Белый': {backgroundColor: '#FFFFFF'},\r\n            'Прозрачный': {backgroundColor: '#00000000'},\r\n            'Синий': {backgroundColor: '#3A75C4'},\r\n            'Красный': {backgroundColor: '#E32636'},\r\n            'Темно-салатовый': {backgroundColor: '#679146'},\r\n            'Фиолетовый': {backgroundColor: '#800080'},\r\n            'Беж': {backgroundColor: '#F5F5DC'},\r\n            'Оранжевый': {backgroundColor: '#FF4F00'},\r\n            'Металлик': {backgroundColor: '#818B8E'},\r\n            'Разноцветные': {backgroundImage: 'linear-gradient(to left, #e945a2, #d24bb1, #b752bd, #9859c6, #735fca, #5468ca, #336ec5, #0072bd, #0077ad, #007892, #007673, #1b7157)'},\r\n            'Коричневый': {backgroundColor: '#964B00'},\r\n            'Серебряный': {backgroundColor: '#C0C0C0'},\r\n            'Черно-белый': {backgroundImage: 'linear-gradient(to right, #000000, #3b3b3b, #777777, #b9b9b9, #ffffff)'},\r\n            'Розовый': {backgroundColor: '#FC0FC0'},\r\n        }\r\n        return textColors[colorKey] ? textColors[colorKey] : {backgroundColor: '#00000000'};\r\n    }\r\n\r\n    /* Переключение фильтра скидки */\r\n    const handleDiscounte = () => {\r\n        let value = getSearchParam('discounted') && getSearchParam('discounted') === 'true' ? true : false;\r\n        const filter = showFilter(['discounted'], [!value], true);\r\n        history.push(window.location.pathname + filter);\r\n        handleFilter(filter);\r\n    }\r\n\r\n    /* Переключение фильтра размеров */\r\n    const handleSize = (size, multipleSize) => {\r\n        const filter = showFilter([multipleSize], [size], true);\r\n        history.push(window.location.pathname + filter);\r\n        handleFilter(filter);\r\n    }    \r\n\r\n    /* Подкомпонент для чекбоксов роазмеров */\r\n    const Label = ({item, multipleSize}) => \r\n        <li>\r\n            <label>\r\n                <input type=\"checkbox\"  onChange={() => handleSize(item, multipleSize)} defaultChecked={getSearchParam(multipleSize) && getSearchParam(multipleSize).includes('' + item) ? true : false} className=\"checkbox\" name={`checkbox-${item}`} />\r\n                <span className=\"checkbox-custom\"></span>\r\n                <span className=\"label\">{item}</span>\r\n            </label>\r\n        </li>\r\n\r\n    /* Подкомпонент для стобцов размеров */\r\n    const FilterSize = ({filter}) => {\r\n        const multipleSize = filter === 'sizes' ? 'size[]' : 'heelSize[]';\r\n        return (\r\n            <ul>                                     \r\n                <div className=\"list-1\">\r\n                    {filters[filter] ? filters[filter].map(\r\n                        (item, index) => {\r\n                            if (index % 2 === 0) \r\n                                return <Label key={index} item={item} multipleSize={multipleSize} />  \r\n                        }\r\n                    ) : ''} \r\n                </div>\r\n                <div className=\"list-2\">\r\n                    {filters[filter] ? filters[filter].map(\r\n                        (item, index) => {\r\n                            if (index % 2 !== 0) \r\n                                return <Label key={index} item={item} multipleSize={multipleSize}  />                                \r\n                        }\r\n                    ) : ''} \r\n                </div>\r\n            </ul>\r\n        )\r\n    }\r\n    \r\n    /* Вывод фильтров до бренда */\r\n    const renderSentence = (filter, title, filters, index) => {\r\n        let cls;\r\n        if (filter === 'type')\r\n            cls = 'catalogue-list';\r\n        else if (filter === 'sizes' || filter === 'heelSize')\r\n            cls = 'size';\r\n        else if (filter === 'reason' || filter === 'season')\r\n            cls = 'occasion';\r\n        else \r\n            cls = filter;\r\n        const chosenFilter = decodeURIComponent(getSearchParam(filter));\r\n        return <React.Fragment key={index}>\r\n            <section className=\"sidebar__division\">\r\n                <div className={`sidebar__${cls}`}>\r\n                    <div className=\"sidebar__division-title\">\r\n                        <h3>{title}</h3>\r\n                        <div className={true ? 'opener-down' : 'opener-up'} onClick={(event) => toggleOpener(event.target)}></div>\r\n                    </div>\r\n                    {filter !== 'price' && filter !== 'sizes' && filter !== 'heelSize' ? <ul>\r\n                        {filters[filter] ? filters[filter].map(\r\n                            (item, index) =>\r\n                            <li key={index} >\r\n                                <Link className={chosenFilter === item ? 'chosen' : ''}\r\n                                    to={`/catalog${showFilter([filter], [item], true)}`}\r\n                                    onClick={(event) => {checkFilter(event, showFilter([filter], [item], true))}} >{\r\n                                        filter === 'color' ? (\r\n                                        <React.Fragment>\r\n                                            <div className=\"color\" style={showColor(item)}></div>\r\n                                            <span className=\"color-name\">{item}</span>\r\n                                        </React.Fragment>) : item\r\n                                    }</Link>\r\n                            </li>\r\n                        ) : ''}\r\n                    </ul> : \r\n                    (filter === 'sizes' || filter === 'heelSize' ?\r\n                    <FilterSize filter={filter} />\r\n                    : activeFilter && productsWithoutFilters ? <PriceSlider productsWithoutFilters={productsWithoutFilters} getSearchParam={getSearchParam} showFilter={showFilter} handleFilter={handleFilter} history={history} /> : <div className=\"price-slider\">\r\n                        <div className=\"circle-container\">\r\n                            <div className=\"circle-1\" style={{left: 0}}></div>\r\n                            <div className=\"line-white\"></div>\r\n                            <div className=\"line-colored\" style={{left: 0, width: '215px'}}></div>\r\n                            <div className=\"circle-2\" style={{right: 0}}></div>\r\n                        </div>\r\n                        <div className=\"counter\">\r\n                            <input type=\"text\" className=\"input-1\" value={0} onChange={() => {}} />\r\n                            <div className=\"input-separator\"></div>\r\n                            <input type=\"text\" className=\"input-2\" value={0} onChange={() => {}} />\r\n                        </div>\r\n                    </div>)}\r\n                </div>\r\n            </section>\r\n            <div className={`separator-150 separator-150-${index + 1}`}></div>\r\n        </React.Fragment>\r\n    }\r\n    \r\n    const filterSequence = [\r\n        {filter: 'type', title: 'Каталог'},\r\n        {filter: 'price', title: 'Цена'},\r\n        {filter: 'color', title: 'Цвет'},\r\n        {filter: 'sizes', title: 'Размер'},\r\n        {filter: 'heelSize', title: 'Размер каблука'},\r\n        {filter: 'reason', title: 'Повод'},\r\n        {filter: 'season', title: 'Сезон'},\r\n    ];\r\n\r\n    return Object.keys(filters).length && productsWithoutFilters ? (\r\n        <section className=\"sidebar\">\r\n            {filterSequence.map(({filter, title}, index) => renderSentence(filter, title, filters, index))}\r\n            <section className=\"sidebar__division\">\r\n                <BrandFilter getSearchParam={getSearchParam} showFilter={showFilter} handleFilter={handleFilter} history={history} brands={filters.brand} />                \r\n                <label>\r\n                    <input type=\"checkbox\" onChange={() => handleDiscounte()} defaultChecked={getSearchParam('discounted') && getSearchParam('discounted') === 'true' ? true : false} className=\"checkbox\" name=\"checkbox-disc\" />\r\n                    <span className=\"checkbox-discount\"></span>\r\n                    <span className=\"text-discount\">Со скидкой</span>\r\n                </label>\r\n                <div className=\"separator-240\"></div>\r\n            </section>      \r\n            <section className=\"sidebar__division\">\r\n                <div className=\"drop-down\">\r\n                    <Link \r\n                        to={`/catalog${showFilter(['search','categoryId'], [getSearchParam('search'), getSearchParam('categoryId')], true, true)}`}\r\n                        onClick={(event) => {checkFilter(event, showFilter(['search','categoryId'], [getSearchParam('search'), getSearchParam('categoryId')], true, true))}} >\r\n                        <span className=\"drop-down-icon\"></span>Сбросить\r\n                    </Link>\r\n                </div>\r\n            </section>\r\n        </section> \r\n    ) : <section className=\"sidebar\"></section>\r\n}\r\n\r\nSidebar.propTypes = {\r\n    handleFilter: PropTypes.func.isRequired,\r\n    getSearchParam: PropTypes.func.isRequired,\r\n    showFilter: PropTypes.func.isRequired,\r\n    categories: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    filters: PropTypes.shape({\r\n        brand: PropTypes.array.isRequired,\r\n        color: PropTypes.array.isRequired, \r\n        heelSize: PropTypes.array.isRequired,\r\n        reason: PropTypes.array.isRequired,\r\n        season: PropTypes.array.isRequired,\r\n        sizes: PropTypes.array.isRequired,\r\n        type: PropTypes.array.isRequired\r\n    }).isRequired,\r\n    productsWithoutFilters: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.nimber\r\n    }))\r\n}\r\n\r\nexport default Sidebar;","import React, { Component } from 'react';\r\nimport Breadcrumbs from './Breadcrumbs';\r\nimport Products from './Products';\r\nimport Sorting from './Sorting';\r\nimport Pagination from './Pagination';\r\nimport Viewed from './Viewed';\r\nimport Sidebar from './Sidebar';\r\nimport PropTypes from 'prop-types';\r\n//import './css/style-catalogue.css';\r\n//import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nclass Catalog extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        categoryId: +this.props.getSearchParam('categoryId'),\r\n        productsWithoutFilters: [],\r\n        activeFilter: false,\r\n        minHeight: 0\r\n      }\r\n  }\r\n\r\n  componentDidMount() {\r\n    require('./css/style-catalogue.css');\r\n\r\n    this.changeCatalogHeight();\r\n  }\r\n\r\n  changeCatalogHeight() {\r\n    this.setState({minHeight: document.querySelector('.sidebar').clientHeight});\r\n  }\r\n\r\n  componentWillMount() {\r\n    this._isMounted = true;\r\n    const filterParams = this.props.getSearchParam();\r\n    let queryArray = [];\r\n    for (const key of Object.keys(filterParams)) {\r\n        if (key !== 'minPrice' && key !== 'maxPrice' && key !== 'page' && key !== 'sortBy' && key !== 'color') {\r\n            queryArray.push({key: key, params: filterParams[key]});\r\n        }\r\n    }        \r\n    this.props.fetchProductsByParams(queryArray)\r\n        .then(res => {\r\n            if (this._isMounted) {\r\n              this.setState({\r\n                  productsWithoutFilters: res.data,\r\n                  activeFilter: true\r\n                })\r\n            }\r\n        });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (+nextProps.getSearchParam('categoryId') !== this.state.categoryId)\r\n      this.setState({categoryId: +nextProps.getSearchParam('categoryId')})\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.state);\r\n    const curCategory = this.props.categories.filter(cat => cat.id === this.state.categoryId);\r\n    let categoryName;\r\n    if (this.props.getSearchParam('search')) {\r\n      categoryName = 'Результаты поиска'\r\n    } else if (this.props.categories.length) {      \r\n      categoryName = curCategory.length ? curCategory[0].title : 'Каталог';\r\n    }\r\n    //console.log(this.state.categoryId, categoryName);\r\n    return (\r\n      <React.Fragment>\r\n        <Breadcrumbs categoryId={this.state.categoryId} categoryName={categoryName} {...this.props} />\r\n        <main className=\"product-catalogue\" style={{minHeight: this.state.minHeight}}>\r\n          {/* Сайдбар */}\r\n          <Sidebar {...this.props} {...this.state} changeCatalogHeight={this.changeCatalogHeight.bind(this)} />\r\n        {/*  Основной контент каталога */}\r\n          <section className=\"product-catalogue-content\">\r\n            {/*  Голова каталога с названием раздела и сортировкой */}\r\n            <section className=\"product-catalogue__head\">\r\n              <div className=\"product-catalogue__section-title\">\r\n                <h2 className=\"section-name\">{categoryName}</h2><span className=\"amount\"> {this.props.products.goods} товара</span>\r\n              </div>\r\n              <div className=\"product-catalogue__sort-by\">\r\n                <p className=\"sort-by\">Сортировать</p>\r\n                <Sorting {...this.props} />\r\n              </div>\r\n            </section>\r\n            {/* Список товаров каталога */}\r\n            <section className=\"product-catalogue__item-list\">\r\n              {/* Товары */}\r\n              <Products {...this.props} products={this.props.products ? this.props.products.data : {}} />\r\n            </section>\r\n            {/* Пагинация под каталогом */}            \r\n            <Pagination {...this.props} /> \r\n          </section>\r\n        </main>\r\n        <Viewed cls={'catalogue'} fetchProductsByParams={this.props.fetchProductsByParams} />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nCatalog.propTypes = {\r\n  products: PropTypes.object.isRequired,\r\n  handleFilter: PropTypes.func.isRequired,\r\n  getSearchParam: PropTypes.func.isRequired,\r\n  showFilter: PropTypes.func.isRequired,\r\n  fetchProductsByParams: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Catalog;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst OrderProrgess = ({validateForm, sumOrder, handleQuantity, cart, products, error, isActiveForm, sendForm}) => {    \r\n    \r\n    /* Убираем недопустимые символы для ввода, валидация формы при наборе для активации кнопки подтверждения заказа */\r\n    const checkName = (node) => {\r\n        node.value = node.value.replace(/[^a-zA-ZА-Яа-яЁё]/gi,'');\r\n        validateForm(new FormData(node.parentElement.parentElement.parentElement.parentElement), false);\r\n    }\r\n\r\n    const checkPhone = (node) => {\r\n        node.value = node.value.replace(/[a-zA-ZА-Яа-яЁё!@#$%^&*\\\\|/`~_\\[\\]{}.<>?,]/gi,'');\r\n        validateForm(new FormData(node.parentElement.parentElement.parentElement.parentElement), false);\r\n    }\r\n\r\n    const checkDelivery = (node) => {\r\n        node.value = node.value.replace(/[!@#$%^&*\\\\|/`~_\\[\\]{}<>?]/gi,'');\r\n        validateForm(new FormData(node.parentElement.parentElement.parentElement.parentElement), false);\r\n    }\r\n\r\n    const checkEmail = (node) => {\r\n        validateForm(new FormData(node.parentElement.parentElement.parentElement.parentElement), false);\r\n    }\r\n\r\n    return (\r\n        <section className=\"order-process\">\r\n          <h2 className=\"order-process__title\">Оформление заказа</h2>\r\n          <div className=\"order-process__basket order-basket\">\r\n            <div className=\"order-basket__title\">в вашей корзине:</div>\r\n            <div className=\"order-basket__item-list\">\r\n                {cart.map(\r\n                    product => {\r\n                        const good = products.filter(item => item.id === product.id)[0];\r\n                        return (\r\n                            <div className=\"basket-item\" key={product.id + '_' + product.size}>\r\n                            <Link to={`/product_card/${product.id}`}>\r\n                                <div className=\"basket-item__pic\" style={{\r\n                                backgroundImage: `url(${good.images[0]})`,\r\n                                backgroundRepeat: 'no-repeat',\r\n                                backgroundSize: 'contain',\r\n                                backgroundPosition: 'center'\r\n                                }}>\r\n                                </div>\r\n                            </Link>\r\n                            <div className=\"basket-item__product\">\r\n                                <div className=\"basket-item__product-name\">\r\n                                <Link to={`/product_card/${product.id}`}>{good.title}</Link>\r\n                                </div>\r\n                                <div className=\"basket-item__product-features\">\r\n                                <div className=\"basket-item__size\">Размер: <span>{product.size}</span></div>\r\n                                <div className=\"basket-item__producer\">Производитель: <span>{good.brand}</span></div>\r\n                                <div className=\"basket-item__color\">Цвет: <span>{good.color}</span></div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"basket-item__quantity\">\r\n                                <div className=\"basket-item__quantity-change basket-item-list__quantity-change_minus\" \r\n                                onClick={() => handleQuantity(product.id, product.size, product.amount - 1)}>-</div>\r\n                                {product.amount}\r\n                                <div className=\"basket-item__quantity-change basket-item-list__quantity-change_plus\" \r\n                                onClick={() => handleQuantity(product.id, product.size, product.amount + 1)}>+</div>\r\n                            </div>\r\n                            <div className=\"basket-item__price\">\r\n                                {(product.amount * good.price).toLocaleString('RU-ru')}\r\n                                <i className=\"fa fa-rub\" aria-hidden=\"true\"></i>\r\n                            </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                )}\r\n            </div>\r\n            <div className=\"order-basket__summ\">\r\n              Итого:&nbsp;\r\n              <span>\r\n                {sumOrder.toLocaleString('RU-ru')}\r\n                <i className=\"fa fa-rub\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"order-process__confirmed\">\r\n            <form action=\"\" onSubmit={(event) => sendForm(event, sumOrder)}>\r\n              <div className=\"order-process__delivery\">\r\n                <h3 className=\"h3\">кому и куда доставить?</h3>\r\n                <div className=\"order-process__delivery-form\">\r\n                  <label className=\"order-process__delivery-label\">\r\n                    <div className=\"order-process__delivery-text\">Имя</div>\r\n                    <input className=\"order-process__delivery-input\" type=\"text\" name=\"name\" placeholder=\"Представьтесь, пожалуйста\" onChange={(event) => checkName(event.target)} />\r\n                  </label>\r\n                  <label className=\"order-process__delivery-label\">\r\n                    <div className=\"order-process__delivery-text\">Телефон</div>\r\n                    <input className=\"order-process__delivery-input\" type=\"tel\" name=\"phone\" placeholder=\"Номер в любом формате\" onChange={(event) => checkPhone(event.target)} />\r\n                  </label>\r\n                  <label className=\"order-process__delivery-label\">\r\n                    <div className=\"order-process__delivery-text\">E-mail</div>\r\n                    <input className=\"order-process__delivery-input\" type=\"email\" name=\"email\" placeholder=\"Укажите E-mail\" onChange={(event) => checkEmail(event.target)} />\r\n                  </label>\r\n                  <label className=\"order-process__delivery-label order-process__delivery-label_adress\">\r\n                    <div className=\"order-process__delivery-text\">Адрес</div>\r\n                    <input className=\"order-process__delivery-input order-process__delivery-input_adress\" type=\"text\" name=\"delivery\" placeholder=\"Ваша покупка будет доставлена по этому адресу\" \r\n                      onChange={(event) => checkDelivery(event.target)} />\r\n                  </label>\r\n                </div>\r\n                <p>Все поля обязательны для заполнения. Наш оператор свяжется с вами для уточнения деталей заказа.</p>\r\n                {error.length ? \r\n                  <p className=\"error\" style={{color: 'red', position: 'absolute'}}>{error}</p>\r\n                 : ''}\r\n              </div>\r\n              <div className=\"order-process__paid\">\r\n                <h3 className=\"h3\">хотите оплатить онлайн или курьеру при получении?</h3>\r\n                <div className=\"order-process__paid-form\">\r\n                  <label className=\"order-process__paid-label\">\r\n                    <input className=\"order-process__paid-radio\" type=\"radio\" name=\"paid\" value=\"card-online\" /><span className=\"order-process__paid-text\">Картой онлайн</span>\r\n                  </label>\r\n                  <label className=\"order-process__paid-label\">\r\n                    <input className=\"order-process__paid-radio\" type=\"radio\" name=\"paid\" value=\"card-courier\" defaultChecked /><span className=\"order-process__paid-text\">Картой курьеру</span>\r\n                  </label>\r\n                  <label className=\"order-process__paid-label\">\r\n                    <input className=\"order-process__paid-radio\" type=\"radio\" name=\"paid\" value=\"cash\" /><span className=\"order-process__paid-text\">Наличными курьеру</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <button className={`order-process__form-submit order-process__form-submit_click${!isActiveForm ? ' order-process__form-submit_disabled' : ''}`}>Подтвердить заказ</button>\r\n            </form>\r\n          </div>\r\n        </section>\r\n    )\r\n}        \r\n\r\nOrderProrgess.propTypes = {\r\n    validateForm: PropTypes.func.isRequired,\r\n    sumOrder: PropTypes.number.isRequired,\r\n    handleQuantity: PropTypes.func.isRequired,\r\n    cart: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired\r\n    ).isRequired,\r\n    products: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired\r\n    ).isRequired,\r\n    error: PropTypes.string.isRequired,\r\n    isActiveForm: PropTypes.bool.isRequired,\r\n    sendForm: PropTypes.func.isRequired\r\n}\r\n\r\nexport default OrderProrgess;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst OrderDone = ({order, email, sumOrder, history}) => {\r\n  /* Расшифровка для ключа оплаты */\r\n  const paidObj = {\r\n    'onlineCard': 'Картой онлайн',\r\n    'offlineCard': 'Картой курьеру',\r\n    'offlineCash': 'Наличными курьеру'\r\n  }\r\n\r\n  const relocateToCatalog = () => {\r\n    history.push('/');\r\n  }\r\n  \r\n  return (\r\n    <section className=\"order-done\">\r\n      <h2 className=\"order-done__title order-process__title\">Заказ принят, спасибо!</h2>\r\n      <div className=\"order-done__information order-info\">\r\n        <div className=\"order-info__item order-info__item_summ\">\r\n          <h3>Сумма заказа:</h3>\r\n          <p>{sumOrder.toLocaleString('RU-ru')}&nbsp;<i className=\"fa fa-rub\" aria-hidden=\"true\"></i></p>\r\n        </div>\r\n        <div className=\"order-info__item order-info__item_pay-form\"> \r\n          <h3>Способ оплаты:</h3>\r\n          <p>{paidObj[order.paymentType]}</p>\r\n        </div>\r\n        <div className=\"order-info__item order-info__item_customer-name\"> \r\n          <h3>Имя клиента:</h3>\r\n          <p>{order.name}</p>\r\n        </div>\r\n        <div className=\"order-info__item order-info__item_adress\">\r\n          <h3>Адрес доставки:</h3>\r\n          <p>{order.address}</p>\r\n        </div>\r\n        <div className=\"order-info__item order-info__item_phone\">\r\n          <h3>Телефон:</h3>\r\n          <p>{order.phone}</p>\r\n        </div>\r\n      </div>\r\n      <p className=\"order-done__notice\">Данные о заказе отправлены на адрес <span>{email}.  </span></p>\r\n      <button className=\"order-done__continue\" onClick={() => relocateToCatalog()}>продолжить покупки</button>\r\n    </section>\r\n  )\r\n}\r\n\r\nOrderDone.propTypes = {\r\n  order: PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n    phone: PropTypes.any.isRequired,\r\n    address: PropTypes.string.isRequired,\r\n    paymentType: PropTypes.string.isRequired,\r\n    cart: PropTypes.string.isRequired,\r\n  }),\r\n  sumOrder: PropTypes.number.isRequired,\r\n  email: PropTypes.string.isRequired,  \r\n  history: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withRouter(OrderDone);","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Breadcrumbs from './Breadcrumbs';\r\nimport OrderProgress from './OrderProgress';\r\nimport OrderDone from './OrderDone';\r\nimport { withRouter } from \"react-router-dom\";\r\n//import './css/style-order.css';\r\n\r\nclass Order extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      products: [],\r\n      cart: [],\r\n      error: '',\r\n      isActiveForm: false,\r\n      sumOrder: 0,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    require('./css/style-order.css');\r\n  }\r\n  \r\n  componentWillMount() {\r\n    this._isMounted = true;\r\n    if (this.props.cart.length !== this.state.cart.length) {\r\n      this.updateCartProducts(this.props);\r\n    }\r\n\r\n    if (this.props.categories.length && !this.props.order && !this.props.cart.length) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    if (nextProps.cart.length && this.props.cart.reduce((sum,{amount}) => sum + amount,0) !== nextProps.cart.reduce((sum,{amount}) => sum + amount,0))\r\n      this.updateCartProducts(nextProps);\r\n\r\n    if (!nextProps.cart.length && !nextProps.order) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  updateCartProducts(props) {\r\n    Promise.all(\r\n      props.cart.map(\r\n          item => \r\n          this.props.fetchSingleProduct(item.id)\r\n      )\r\n    )\r\n      .then(res => Array.from(res).map(item => item.data))\r\n      .then(res => {\r\n        if (this._isMounted)\r\n          this.setState({products: res, cart: props.cart, sumOrder: props.cart.reduce(\r\n            (sum, good) => \r\n            sum + good.amount * res.filter(item => item.id === good.id)[0].price, 0\r\n          )})\r\n      })\r\n  }\r\n  \r\n  /* Валидация формы */\r\n  validateForm(form, isForm = true) {\r\n    if (!form.get('name') || form.get('name') === '' ||\r\n      !form.get('phone') || form.get('phone') === '' || form.get('phone').replace(/\\D+/g, '') === '' ||\r\n      !form.get('email') || form.get('email') === '' ||\r\n      !form.get('delivery') || form.get('delivery') === '') {\r\n        if (isForm)\r\n          this.setState({error: 'Не заполены обязательные поля'});\r\n        return this.setState({isActiveForm: false});\r\n    }\r\n    if (form.get('name').length <= 1) {\r\n      if (isForm)\r\n        this.setState({error: 'Ваше имя слишком короткое'});\r\n      return this.setState({isActiveForm: false});\r\n    }\r\n    if (form.get('phone').length < 7) {\r\n      if (isForm)\r\n        this.setState({error: 'Телефон должен содержать не менее 7 цифр'});\r\n      return this.setState({isActiveForm: false});\r\n    }\r\n    if (form.get('delivery').length < 15) {\r\n      if (isForm)\r\n        this.setState({error: 'Адрес должен содержать не менее 15 симфолов'});\r\n      return this.setState({isActiveForm: false});\r\n    }\r\n    if (this.state.error !== '') {\r\n      this.setState({error: '', isActiveForm: true});\r\n    } else {\r\n      this.setState({isActiveForm: true});\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /* Отправка письма при успешной валидации, переключение на успешное оформление заказа, удаление корзины */\r\n  sendForm = (event, sumOrder) => {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData(event.target);\r\n\r\n    if (this.validateForm(formData)) {\r\n      this.props.fetchOrder(localStorage.cart, formData, sumOrder)\r\n        .then(() => {\r\n          window.scrollTo(0, 300);\r\n        });\r\n    } else {\r\n      console.log('Ошибки при валидации формы');\r\n    }\r\n}\r\n\r\n  /* Изменение количества данного товара на лету */\r\n  handleQuantity(productId, size, newAmount) {\r\n    if (newAmount === 0)\r\n      return false;\r\n    this.props.addCart(productId, size, newAmount, true)\r\n      .then(res => {\r\n        if (res.status === 'ok') {\r\n          this.props.fetchCart(res.data.id);\r\n        } else {\r\n          this.setState({error: res.message})\r\n        }\r\n      })\r\n  } \r\n\r\n  render() {\r\n    return this.state.sumOrder || this.props.order ? (\r\n      <React.Fragment>\r\n        <Breadcrumbs {...this.props} categoryName={'Оформление заказа'} />\r\n        {!this.props.order ?\r\n          <OrderProgress {...this.state} validateForm={this.validateForm.bind(this)} handleQuantity={this.handleQuantity.bind(this)} sendForm={this.sendForm.bind(this)} />\r\n          : <OrderDone order={this.props.order.data.info} email={this.props.order.email} sumOrder={this.props.order.sumOrder} history={this.props.history} />\r\n        }        \r\n      </React.Fragment>\r\n    ) : <div>\r\n          <p>Ваша корзина пуста</p>\r\n        </div>\r\n  }\r\n}\r\n\r\nOrder.propTypes = {\r\n  fetchSingleProduct: PropTypes.func.isRequired,\r\n  cart: PropTypes.array.isRequired,\r\n  addCart: PropTypes.func.isRequired,\r\n  fetchCart: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withRouter(Order);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Similar extends Component {\r\n    _isMounted = false;\r\n  \r\n    constructor(props) {\r\n      super(props);\r\n  \r\n      this.state = {\r\n        products: [],\r\n        position: 0,\r\n      }\r\n    }\r\n    \r\n    componentWillMount() {\r\n      this._isMounted = true;\r\n      \r\n      this.props.fetchProductsByParams([{key: 'type', params: this.props.type}, {key: 'color', params: this.props.color}])\r\n        .then(res => {\r\n          if (this._isMounted) {\r\n            this.setState({products: res.data})\r\n          }\r\n        })\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    changePosition(operator, length) {\r\n        if (operator === '+') {\r\n            if (this.state.position < length - 3)\r\n                this.setState({position: this.state.position + 1})\r\n        } else {\r\n            if (this.state.position > 0)\r\n                this.setState({position: this.state.position - 1})\r\n        }\r\n    }\r\n\r\n    render() {        \r\n        const products = this.state.products.filter(product => product.id !== this.props.productId);\r\n\r\n        return products.length ? (\r\n            <section className=\"product-card__similar-products-slider\">\r\n                <h3>Похожие товары:</h3>\r\n                <div className=\"similar-products-slider\">\r\n                    {products.length > 3 && this.state.position !== 0 ? <div className=\"similar-products-slider__arrow similar-products-slider__arrow_left arrow\" onClick={() => this.changePosition('-')} ></div> : ''}\r\n                    {products.slice(this.state.position, this.state.position + 3).map(\r\n                        product =>\r\n                        <div key={product.id} className=\"similar-products-slider__item-list__item-card item\">\r\n                            <div className=\"similar-products-slider__item\">\r\n                                <Link to={`/product_card/${product.id}`} onClick={() => this.props.fetchProduct ? this.props.fetchProduct(product.id) : ''} style={{\r\n                                    backgroundImage: `url(${product.images[0]})`,\r\n                                    backgroundSize: 'contain',\r\n                                    backgroundPosition: 'center',\r\n                                    backgroundRepeat: 'no-repeat',\r\n                                    height: '99%',\r\n                                    width: '99%'\r\n                                    }} alt={product.title} >\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"similar-products-slider__item-desc\">\r\n                                <h4 className=\"similar-products-slider__item-name\">{product.title}</h4>\r\n                                <p className=\"similar-products-slider__item-producer\">Производитель: <span className=\"producer\">{product.brand}</span></p>\r\n                                <p className=\"similar-products-slider__item-price\">{product.price.toLocaleString('ru-RU')}</p>\r\n                            </div>    \r\n                        </div>\r\n                    )}                    \r\n                    {products.length > 3 && this.state.position !== products.length - 3 ? <div className=\"similar-products-slider__arrow similar-products-slider__arrow_right arrow\" onClick={() => this.changePosition('+', products.length)} ></div> : ''}\r\n                </div>\r\n            </section>\r\n        ) : '';\r\n    }\r\n}\r\n\r\nSimilar.propTypes = {\r\n    fetchProductsByParams: PropTypes.func.isRequired,\r\n    fetchProduct: PropTypes.func,\r\n    productId: PropTypes.number.isRequired,\r\n    type: PropTypes.string.isRequired,\r\n    color: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Similar;","import React, { Component } from 'react';\r\nimport Breadcrumbs from './Breadcrumbs';\r\nimport { Link } from 'react-router-dom';\r\nimport favoriteImage from './img/product-card-pics/product-card__favorite-fill.png';\r\nimport Viewed from './Viewed';\r\nimport Similar from './Similar';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ProductCard extends Component {\r\n  _updated = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      product: null,\r\n      curImage: null,\r\n      activeSize: null,\r\n      cartBtn: 'В корзину',\r\n      favorite: null,\r\n      quantity: 1,\r\n      error: null,\r\n    }\r\n    this.fetchProduct.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    require('./css/style-order.css');\r\n    require('./css/style-product-card.css');\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.fetchProduct();\r\n  }\r\n\r\n  /* загрузка товара по id из адресной строки */\r\n  fetchProduct(id = null) {\r\n    const productId = id ? id : window.location.pathname.slice(window.location.pathname.lastIndexOf('/') + 1);\r\n    setTimeout(() => this._updated = false, 100);\r\n    this.props.fetchSingleProduct(productId)\r\n      .then(({data}) => this.setState({\r\n        product: data,\r\n        curImage: data.images[0],\r\n        favorite: localStorage.favorite ? (JSON.parse(localStorage.favorite).filter(id => +id === data.id).length ? true : false) : false,\r\n        cartBtn: 'В корзину',\r\n        activeSize: null,\r\n        quantity: 1\r\n      }))\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    if (this.state.product && nextProps.match.params.id !== this.state.product.id && !this._updated) {\r\n      this._updated = true;\r\n      this.fetchProduct(+nextProps.match.params.id)\r\n    }\r\n    if (this.state.product && nextState.product.id !== this.state.product.id) {\r\n      this.props.addViewed(nextState.product.id);\r\n      this.setState({\r\n        activeSize: null,\r\n        favorite: localStorage.favorite ? (JSON.parse(localStorage.favorite).filter(id => +id === nextState.product.id).length ? true : false) : false,\r\n        cartBtn: 'В корзину',\r\n        quantity: 1\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.product) \r\n      this.props.addViewed(this.state.product.id);\r\n    this._updated = true;\r\n  }\r\n\r\n  /* изменение количества */\r\n  handleQuantity(operator) {\r\n    const quantity = this.state.quantity;\r\n    if (operator === '+') {\r\n      this.setState({quantity: quantity + 1})\r\n    } else {\r\n      if (quantity > 1)\r\n        this.setState({quantity: quantity - 1})\r\n    }\r\n  }\r\n\r\n  /* выставление выбранного размера */\r\n  handleSize(event, item) {\r\n    event.preventDefault();\r\n    if (!this.state.activeSize || this.state.activeSize.size !== item.size)\r\n      this.setState({activeSize: item, cartBtn: 'В корзину', error: null});\r\n  }\r\n\r\n  /* увеличение картинки товара */\r\n  zoomImage(event) {\r\n    event.preventDefault();\r\n    const image = event.currentTarget.parentElement.querySelector('img');\r\n    image.classList.toggle('hidden');\r\n    image.style.display = image.style.display === 'none' ? 'block' : 'none';\r\n  }\r\n\r\n  /* Скрол наверх */\r\n  upToCart() {\r\n    let t;\r\n    const top = Math.max(document.body.scrollTop, document.documentElement.scrollTop);\r\n    if(top > 0) {\r\n      window.scrollBy(0, ((top + 100) / -10));\r\n      t = setTimeout(() => this.upToCart(), 20);\r\n    } else clearTimeout(t);\r\n    return false;\r\n  }\r\n\r\n  /* Мигание кнопки корзины */\r\n  blinkingCartBtn() {\r\n    const basketIcon = document.querySelector('.header-main__pic_basket_full');  \r\n    let tic = 1;  \r\n    const hiddenBlock = () => {\r\n      basketIcon.style.display = tic === 4 ? 'block' : 'none';\r\n    }\r\n    const blickBlock = () => {\r\n      basketIcon.style.display = 'block';\r\n      setTimeout(() => hiddenBlock(), 300);\r\n      if (tic === 4) {\r\n        clearInterval(block);\r\n        basketIcon.style.display = 'block';\r\n      } else {\r\n        tic++;\r\n      }\r\n    }\r\n    hiddenBlock();\r\n    let block = setInterval(() => blickBlock(), 600);    \r\n  }\r\n\r\n  handleCartBtn() {\r\n    if (!this.state.activeSize) {\r\n      this.setState({cartBtn: 'Выберите размер!'})\r\n    } else {\r\n      this.props.addCart(this.state.product.id, this.state.activeSize.size, this.state.quantity)\r\n        .then(res => {\r\n          if (res.status === 'ok') {\r\n            localStorage.cart = res.data.id;\r\n            this.props.fetchCart(res.data.id);\r\n            this.upToCart();           \r\n            this.blinkingCartBtn();\r\n          } else {\r\n            this.setState({error: res.message })\r\n          }\r\n        })\r\n    }    \r\n  }\r\n\r\n  render() {    \r\n    if (this.state.product) {\r\n      const product = this.state.product;\r\n      const categoryName = this.props.categories.length ? this.props.categories.filter(cat => cat.id === product.categoryId)[0].title : null;\r\n      return (\r\n      <React.Fragment>\r\n        <Breadcrumbs categoryId={product.categoryId} handleFilter={this.props.handleFilter} categoryName={categoryName} productId={product.id} productType={product.type} productTitle={product.title} />        \r\n        <main className=\"product-card\">\r\n          <section className=\"product-card-content\">\r\n            <h2 className=\"section-name\">{product.title}</h2>\r\n            <section className=\"product-card-content__main-screen\">\r\n              {/* Слайдер выбранного товара */}\r\n              <section className=\"main-screen__favourite-product-slider\">\r\n                {product.images.length === 1 ? '' :\r\n                <div className=\"favourite-product-slider\">\r\n                  {product.images.length > 3 ? \r\n                    <div className=\"favourite-product-slider__arrow favourite-product-slider__arrow_up arrow-up\"></div>\r\n                    : ''}\r\n                  {product.images.map(\r\n                    (image, index) => \r\n                    <div className=\"favourite-product-slider__item\" key={index} style={{\r\n                      backgroundImage: `url(${image})`,\r\n                      backgroundSize: 'contain',\r\n                      backgroundRepeat: 'no-repeat',\r\n                      backgroundPosition: 'center'\r\n                    }} data-image={image}>\r\n                      <a href=\"#\" onClick={(event) => {\r\n                        event.preventDefault();\r\n                        this.setState({curImage: event.currentTarget.parentElement.dataset.image})\r\n                      }}></a>\r\n                    </div>\r\n                  )}\r\n                  {product.images.length > 3 ?\r\n                    <div className=\"favourite-product-slider__arrow favourite-product-slider__arrow_down arrow-down\"></div>\r\n                    : ''}\r\n                </div>}\r\n              </section>\r\n              {/* Изображение выбранного товара */}\r\n              <div className=\"main-screen__favourite-product-pic\" style={{\r\n                backgroundImage: `url(${this.state.curImage})`,\r\n                backgroundSize: 'contain',\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundPosition: 'center'\r\n              }}>\r\n                <a href=\"#\" onClick={(event) => this.zoomImage(event)}>\r\n                  <img src={this.state.curImage} alt={product.title} className=\"hidden\" style={{zIndex: 1, display: 'none'}} />\r\n                </a>\r\n                <a href=\"#\" onClick={(event) => this.zoomImage(event)} className=\"main-screen__favourite-product-pic__zoom\" ></a>\r\n              </div>\r\n              {/* Блок информации о товаре */}\r\n              <div className=\"main-screen__product-info\">\r\n                <div className=\"product-info-title\">\r\n                  <h2>{product.title}</h2>\r\n                  {this.state.activeSize ? <div className=\"in-stock\">{this.state.activeSize.available ? 'В наличии' : 'Нет в наличии'}</div> : ''}\r\n                </div>\r\n                <div className=\"product-features\">\r\n                  <table className=\"features-table\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td className=\"left-col\">Артикул:</td>\r\n                        <td className=\"right-col\">{product.sku}</td>\r\n                      </tr>\r\n                      <tr>\r\n                          <td className=\"left-col\">Производитель:</td>\r\n                          <td className=\"right-col\"><Link to={`/catalog?categoryId=${product.categoryId}&brand=${product.brand}`} onClick={() => this.props.handleFilter(`?categoryId=${product.categoryId}&brand=${encodeURIComponent(product.brand)}`)}><span className=\"producer\">{product.brand}</span></Link></td>\r\n                      </tr>\r\n                      <tr>\r\n                          <td className=\"left-col\">Цвет:</td>\r\n                          <td className=\"right-col\">{product.color}</td>\r\n                      </tr>\r\n                      <tr>\r\n                          <td className=\"left-col\">Материалы:</td>\r\n                          <td className=\"right-col\">{Array.isArray(product.material) ? product.material.join(', ') : product.material}</td>\r\n                      </tr>\r\n                      <tr>\r\n                          <td className=\"left-col\">Сезон:</td>\r\n                          <td className=\"right-col\">{product.season}</td>\r\n                      </tr>\r\n                      <tr>\r\n                          <td className=\"left-col\">Повод:</td>\r\n                          <td className=\"right-col\">{product.reason}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <p className=\"size\">Размер</p>\r\n                <ul className=\"sizes\">\r\n                  {product.sizes.map(\r\n                    (item, index) =>\r\n                    <li className={this.state.activeSize && this.state.activeSize.size === item.size ? 'active' : ''} key={index}>\r\n                      <a href=\"#\" onClick={(event) => this.handleSize(event, item)}>{item.size}</a>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n                <div className=\"size-wrapper\">\r\n                  <a href=\"#\"><span className=\"size-rule\"></span><p className=\"size-table\">Таблица размеров</p></a>\r\n                </div>\r\n                <a href=\"#\" className=\"in-favourites-wrapper\" onClick={event => {\r\n                  event.preventDefault();\r\n                  this.props.handleFavorite(product.id);\r\n                  this.setState({favorite: !this.state.favorite})\r\n                }}>\r\n                  <div className=\"favourite\" style={{backgroundImage: (this.state.favorite ? `url(${favoriteImage})` : '')}}></div>\r\n                  <p className=\"in-favourites\">{this.state.favorite ? 'В избранном' : 'В избранное'}</p>\r\n                </a>\r\n                <div className=\"basket-item__quantity\">\r\n                  <div className=\"basket-item__quantity-change basket-item-list__quantity-change_minus\" onClick={() => this.handleQuantity('-')}>-</div>\r\n                    {this.state.quantity}\r\n                  <div className=\"basket-item__quantity-change basket-item-list__quantity-change_plus\" onClick={() => this.handleQuantity('+')}>+</div>\r\n                </div>\r\n                <div className=\"price\">{product.price.toLocaleString('ru-RU')} ₽</div>\r\n                <button className={`in-basket in-basket-click ${this.state.activeSize ? '' : 'in-basket_disabled' }`} onClick={() => this.handleCartBtn()}>{this.state.cartBtn}</button>\r\n                {this.state.error ? <div className=\"error\" style={{position: 'relative', top: '76px', color: 'red', textAlign: 'center'}}>{this.state.error}</div> : ''}\r\n              </div>\r\n            </section>\r\n          </section>\r\n        </main>\r\n        <Viewed cls={'card'} fetchProductsByParams={this.props.fetchProductsByParams} fetchProduct={this.fetchProduct.bind(this)} />\r\n        <Similar productId={product.id} color={product.color} type={product.type} fetchProductsByParams={this.props.fetchProductsByParams} fetchProduct={this.fetchProduct.bind(this)} />\r\n      </React.Fragment>\r\n      )\r\n    } else return <div>Данный товар не найден</div>\r\n  }\r\n}\r\n\r\nProductCard.propTypes = {\r\n  addViewed: PropTypes.func.isRequired,\r\n  fetchSingleProduct: PropTypes.func.isRequired,\r\n  fetchProductsByParams: PropTypes.func.isRequired,\r\n  handleFavorite: PropTypes.func.isRequired,\r\n  handleFilter: PropTypes.func.isRequired,\r\n  categories: PropTypes.arrayOf(PropTypes.object),\r\n  addCart: PropTypes.func.isRequired\r\n}\r\n\r\nexport default withRouter(ProductCard);","import React, { Component } from 'react';\r\nimport Breadcrumbs from './Breadcrumbs';\r\nimport Products from './Products';\r\nimport Sorting from './Sorting';\r\nimport Pagination from './Pagination';\r\nimport PropTypes from 'prop-types';\r\n//import './css/style-favorite.css';\r\n//import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nclass Favorite extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state ={\r\n      favorite: localStorage.favorite ? JSON.parse(localStorage.favorite) : [],\r\n      products: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    require('./css/style-order.css');\r\n    require('./css/style-catalogue.css');\r\n    require('./css/style-favorite.css');\r\n  }\r\n  \r\n  componentWillMount() {\r\n    this._isMounted = true;\r\n    \r\n    this.fetchFavoriteProducts(this.state.favorite)\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    const newFavorite = localStorage.favorite ? JSON.parse(localStorage.favorite) : [];\r\n    if (this.state.favorite.length !== newFavorite.length) {\r\n      this.fetchFavoriteProducts(newFavorite)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  fetchFavoriteProducts(favoriteIds) {\r\n    const page = this.props.getSearchParam('page') ? this.props.getSearchParam('page') : 1;\r\n    const sortBy = this.props.getSearchParam('sortBy') ? this.props.getSearchParam('sortBy') : 'price';\r\n    Promise.all(favoriteIds.map(\r\n      productId =>\r\n      this.props.fetchSingleProduct(productId)\r\n    ))\r\n      .then(res => res.map(item => item.data))\r\n      .then(res => {\r\n        this.setState({\r\n          products: {\r\n            status: 'ok',\r\n            data: res.sort((a, b) => a[sortBy] - b[sortBy]).slice((page - 1) * 12, page * 12),\r\n            goods: res.length,\r\n            page: +page,\r\n            pages: Math.ceil(res.length / 12)\r\n          }\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return this.state.favorite.length ? (\r\n      <React.Fragment>\r\n        <Breadcrumbs {...this.props} categoryName={'Избранное'} />\r\n        <main className=\"product-catalogue product-catalogue_favorite\">\r\n          {this.state.products ?\r\n            <React.Fragment>\r\n              <section className=\"product-catalogue__head product-catalogue__head_favorite\">\r\n                <div className=\"product-catalogue__section-title\">\r\n                  <h2 className=\"section-name\">В вашем избранном</h2><span className=\"amount amount_favorite\"> {this.state.favorite.length} товаров</span>\r\n                </div>\r\n                <div className=\"product-catalogue__sort-by\">\r\n                  <p className=\"sort-by\">Сортировать</p>\r\n                  <Sorting {...this.props} />\r\n                </div>\r\n              </section>\r\n              <section className=\"product-catalogue__item-list product-catalogue__item-list_favorite\" style={{width: '1200px'}}>\r\n                <Products products={this.state.products.data} fetchSizes={this.props.fetchSizes} handleFavorite={(id) => {\r\n                  this.props.handleFavorite(id);\r\n                  this.setState({favorite: localStorage.favorite ? JSON.parse(localStorage.favorite) : []})\r\n                }} />\r\n              </section>\r\n              <Pagination {...this.props} products={this.state.products} />\r\n            </React.Fragment> : ''}           \r\n        </main>\r\n      </React.Fragment>\r\n    ) : (\r\n      <React.Fragment>\r\n        <Breadcrumbs categoryName={'Избранное'} />\r\n        <main className=\"product-catalogue product-catalogue_favorite\" style={{minHeight: '600px'}}>\r\n          <section className=\"product-catalogue__head product-catalogue__head_favorite\">\r\n            <div className=\"product-catalogue__section-title\">\r\n              <h2 className=\"section-name\">В вашем избранном пока ничего нет</h2>\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nFavorite.propTypes = {\r\n  fetchProductsByParams: PropTypes.func.isRequired,\r\n  fetchSizes: PropTypes.func.isRequired,\r\n  handleFavorite: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Favorite;","import React from 'react';\r\n\r\nconst Peloader = ({hidden}) => \r\n    <div className={`preloader_wrapper ${hidden ? 'hidden' : ''}`}>\r\n        <div className=\"preloader\">\r\n            <hr /><hr /><hr /><hr />\r\n        </div>\r\n    </div>\r\n\r\nexport default Peloader;","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { createBrowserHistory, createHashHistory } from 'history';\r\n\r\nimport './css/normalize.css';\r\nimport './css/font-awesome.min.css';\r\nimport './css/style.css';\r\n\r\nimport Header from './Header';\r\nimport Homepage from './Homepage';\r\nimport Footer from './Footer';\r\nimport Catalog from './Catalog';\r\nimport Order from './Order';\r\nimport ProductCard from './ProductCard';\r\nimport Favorite from './Favorite';\r\nimport Preloader from './Preloader';\r\n\r\nclass App extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      categories: [],\r\n      products: {},\r\n      filters: {},\r\n      activeFilter: window.location.search,\r\n      featured: [],\r\n      cart: [],\r\n      order: null,\r\n      isLoading: true,\r\n      errors: [],\r\n    }\r\n\r\n    this.fetchCart.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.fetchProps();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.activeFilter !== prevState.activeFilter)\r\n      this.fetchProducts();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const history = createBrowserHistory({\r\n      basename: process.env.PUBLIC_URL\r\n    });\r\n    this.unlisten = history.listen((location) => {\r\n      if (location.search !== this.state.activeFilter)\r\n        this.setState({activeFilter: location.search})\r\n    });\r\n  }\r\n\r\n  componentUnMount() {\r\n    this.unlisten();\r\n  }\r\n\r\n  fetchProps() {\r\n    let categories = [], featured = [], filters = {}, products = {}, errors = [];\r\n    Promise.all([\r\n      /* загрузка категорий */\r\n      this.getFetch('https://api-neto.herokuapp.com/bosa-noga/categories',\r\n        (data) => categories = data,\r\n        (error) => errors[errors.length] = error\r\n      ),\r\n      /* загрузка новинок */\r\n      this.getFetch('https://api-neto.herokuapp.com/bosa-noga/featured',\r\n        (data) => featured = data,\r\n        (error) => errors[errors.length] = error\r\n      ),\r\n      /* загрузка фильтров */\r\n      this.getFetch('https://api-neto.herokuapp.com/bosa-noga/filters',\r\n        (data) => filters = data,\r\n        (error) => errors[errors.length] = error\r\n      ),\r\n      /* загрузка товаров */\r\n      this.getFetch(`https://api-neto.herokuapp.com/bosa-noga/products${this.state.activeFilter ? this.state.activeFilter : ''}`,\r\n        (data) => products = data,\r\n        (error) => errors[errors.length] = error,\r\n        true\r\n      ),\r\n      localStorage.cart ? this.fetchCart(localStorage.cart) : []\r\n    ])\r\n    /* обновление state после всех запросов */\r\n      .then(() => {\r\n        if (categories.data.length || featured.data.length ||  Object.keys(filters.data).length || products.status === \"ok\")\r\n          this.setState({categories: categories.data, featured: featured.data, filters: filters.data, products: products, isLoading: false });\r\n        if (errors.length)\r\n          this.setState({isLoading: false, errors: [...this.state.errors, ...errors] })\r\n      })\r\n  }\r\n\r\n  fetchProducts() {\r\n    this.setState({isLoading: true});\r\n    let products = [], errors = [];\r\n    //console.log(this.state.activeFilter);\r\n    this.getFetch(`https://api-neto.herokuapp.com/bosa-noga/products${this.state.activeFilter ? this.state.activeFilter : ''}`,\r\n      (data) => products = data,\r\n      (error) => errors[errors.length] = error\r\n    )\r\n    .then(() => {\r\n      if (products.status === \"ok\") {\r\n        //console.log(22);\r\n        this.setState({products: products, isLoading: false});\r\n      }\r\n      if (errors.length) {\r\n        //console.log(23);\r\n        this.setState({isLoading: false, errors: [...this.state.errors, ...errors] });\r\n      }\r\n    })\r\n  }\r\n\r\n  fetchActiveSubcategories(categoryId) {\r\n    const categories = this.state.categories;    \r\n    this.setState({isLoading: true});\r\n    let reasons = [], types = [], seasons = [], brands = [];    \r\n    return Promise.all(\r\n      this.state.filters.reason.map(\r\n        reason =>\r\n        fetch(`https://api-neto.herokuapp.com/bosa-noga/products?categoryId=${categoryId}&reason=${reason}`)\r\n          .then(res => res.json())\r\n          .then(res => res.data.length ? reasons.push(reason) : '')\r\n      )\r\n        .concat(\r\n          this.state.filters.type.map(\r\n            type =>\r\n            fetch(`https://api-neto.herokuapp.com/bosa-noga/products?categoryId=${categoryId}&type=${type}`)\r\n              .then(res => res.json())\r\n              .then(res => res.data.length ? types.push(type) : '')\r\n          ),\r\n          this.state.filters.season.map(\r\n            season =>\r\n            fetch(`https://api-neto.herokuapp.com/bosa-noga/products?categoryId=${categoryId}&season=${season}`)\r\n              .then(res => res.json())\r\n              .then(res => res.data.length ? seasons.push(season) : '')\r\n          ),\r\n          this.state.filters.brand.map(\r\n            brand => {\r\n            return fetch(`https://api-neto.herokuapp.com/bosa-noga/products?categoryId=${categoryId}&brand=${encodeURIComponent(brand)}`)\r\n              .then(res => res.json())\r\n              .then(res => res.data.length ? brands.push(encodeURIComponent(brand)) : '')\r\n            }\r\n          )          \r\n        )\r\n      ) .then (\r\n        () => {\r\n        //console.log(reasons, types, seasons, brands);\r\n        this.setState({isLoading: false});\r\n        return categories.length ? [\r\n            {sort: 'reason', name: 'Повод', cls: reasons.length > 13 ? 'dropped-menu__lists_three-coloumns' : '', children: reasons},\r\n            {sort: 'type', name: 'Категории', cls: types.length > 13 ? 'dropped-menu__lists_three-coloumns' : '', children: types},\r\n            {sort: 'season', name: 'Сезон', cls: seasons.length > 13 ? 'dropped-menu__lists_three-coloumns' : '', children: seasons},\r\n            {sort: 'brand', name: 'Бренды', cls: brands.length > 13 ? 'dropped-menu__lists_three-coloumns' : '', children: brands},\r\n          ] : [];\r\n        }\r\n      )\r\n  }\r\n\r\n  fetchSizes(id) {\r\n    let sizes;\r\n    return this.getFetch(`https://api-neto.herokuapp.com/bosa-noga/products/${id}`,\r\n      (data) => sizes = data.sizes,\r\n      (error) => console.log(error)\r\n    )\r\n      .then(() => sizes);\r\n  }\r\n\r\n  fetchProductsByParams(arrayParams, withoutPaginationSortBy = false) {\r\n    let products, errors = [];\r\n    //console.log(arrayParams);\r\n    const query = arrayParams.map(({key, params}) => {      \r\n      if (Array.isArray(params))\r\n        return params.map(param => `${key}[]=${param}`).join('&')\r\n      else \r\n        return `${key}=${params}`\r\n    });\r\n    //console.log(query);\r\n    const page = withoutPaginationSortBy ? '' : this.getSearchParam('page');\r\n    const sortBy = withoutPaginationSortBy ? '' : this.getSearchParam('sortBy');\r\n    return this.getFetch(`https://api-neto.herokuapp.com/bosa-noga/products?${query.join('&')}${sortBy ? `&sortBy=${sortBy}` : ''}${page ? `&page=${page}` : ''}`,\r\n      (data) => products = data,\r\n      (error) => errors[errors.length] = error\r\n    )\r\n      .then(() => products)\r\n  }\r\n  \r\n  fetchSingleProduct(id) {\r\n    //this.setState({isLoading: true})\r\n    let product;\r\n    return this.getFetch(`https://api-neto.herokuapp.com/bosa-noga/products/${id}`,\r\n      (data) => product = data,\r\n      (error) => console.log(error)\r\n    )\r\n      .then(() => {\r\n        //this.setState({isLoading: false})\r\n        return product\r\n      })\r\n  }\r\n\r\n  fetchCart(cartId) {\r\n    let res;\r\n    return this.getFetch(`https://api-neto.herokuapp.com/bosa-noga/cart/${cartId}`,\r\n      (data) => res = data,\r\n      (error) => console.log(error)\r\n    )\r\n      .then(() => {\r\n        if (res.status === 'ok') {\r\n          this.setState({cart: res.data.products})\r\n        } else {\r\n          console.log(res.message);\r\n        }     \r\n      })\r\n  }\r\n\r\n  fetchOrder(cartId, formData, sumOrder) {\r\n    const paidObj = {\r\n      'card-online': 'onlineCard',\r\n      'card-courier': 'offlineCard',\r\n      'cash': 'offlineCash'\r\n    }    \r\n\r\n    return fetch('https://api-neto.herokuapp.com/bosa-noga/order',{\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      credentials: 'same-origin',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: formData.get('name'),\r\n        phone: formData.get('phone'),\r\n        address: formData.get('delivery'),\r\n        paymentType: paidObj[formData.get('paid')],\r\n        cart: cartId\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if (res.status === 'ok') {\r\n          this.setState({cart: [], order: {data: res.data, email: formData.get('email'), sumOrder: sumOrder}});\r\n          localStorage.cart = '';\r\n        } else {\r\n          console.log(res.message);\r\n        }     \r\n      })\r\n  }\r\n\r\n  handleFavorite(id) {\r\n    const favorite = localStorage.favorite;\r\n    let changedFavorite = [];\r\n    if (favorite) {\r\n      const arrayFavorites = JSON.parse(favorite);\r\n      if (arrayFavorites.includes(id)) {\r\n        changedFavorite = arrayFavorites.filter(item => item !== id);\r\n      } else {\r\n        arrayFavorites.push(id);\r\n        changedFavorite = arrayFavorites;\r\n      }\r\n    } else {\r\n      changedFavorite.push(id);\r\n    }\r\n    localStorage.favorite = JSON.stringify(changedFavorite);\r\n  }\r\n\r\n  addCart(id, size, amount, isOrder = false) {\r\n    if (id === 'undefined' || size === 'undefined' || amount === 'undefined')\r\n      return console.log(`Не указан один из обязательный параметров. id:${id}, size:${size}, amount:${amount}`);\r\n    if (localStorage.cart && localStorage.cart !== 'undefined') {\r\n      return fetch(`https://api-neto.herokuapp.com/bosa-noga/cart/${localStorage.cart}`)\r\n      .then(res => res.json())\r\n      .then(\r\n        cart => {\r\n          if (cart.status === \"ok\"){\r\n            const curProduct = cart.data.products.filter(product => product.id === id && product.size === size)[0];\r\n            if (isOrder)\r\n              curProduct.amount = 0;\r\n            return fetch(`https://api-neto.herokuapp.com/bosa-noga/cart/${localStorage.cart}`,{\r\n              method: 'POST',\r\n              mode: 'cors',\r\n              credentials: 'same-origin',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify({\r\n                id: id,\r\n                size: size,\r\n                amount: curProduct && amount !== 0 ? (curProduct.size === size ? curProduct.amount + amount : amount) : amount\r\n              })\r\n            })\r\n              .then(res => res.json())\r\n              .then(res => res)\r\n          } else {\r\n            console.log(cart.message);\r\n          }          \r\n        }\r\n      )\r\n    } else {\r\n      return fetch('https://api-neto.herokuapp.com/bosa-noga/cart/',{\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        credentials: 'same-origin',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          id: id,\r\n          size: size,\r\n          amount: amount\r\n        })\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => res)\r\n    }    \r\n  }\r\n\r\n  deleteGoodFromCart(productId, size) {\r\n    this.addCart(productId, size, 0)\r\n      .then(res => {\r\n        if (res.status === 'ok') {\r\n          this.fetchCart(res.data.id);\r\n        } else {\r\n          localStorage.cart = '';\r\n          this.setState({cart: []});\r\n          //console.log(res.message);                \r\n        }\r\n      })\r\n  }\r\n\r\n  addViewed(id) {\r\n    const viewed = localStorage.viewed;\r\n    let changedViewed = [];\r\n    if (viewed) {\r\n      const arrayViewed = JSON.parse(viewed);\r\n      if (!arrayViewed.includes(id)) {\r\n        if (arrayViewed.length < 10) {\r\n          arrayViewed.push(id);\r\n        } else {\r\n          arrayViewed.shift();\r\n          arrayViewed.push(id);\r\n        }\r\n      }      \r\n      changedViewed = arrayViewed;\r\n    } else {\r\n      changedViewed.push(id);\r\n    }\r\n    localStorage.viewed = JSON.stringify(changedViewed);\r\n  }\r\n\r\n  handleFilter(filter) {\r\n    this.setState({activeFilter: filter ? filter : ''})\r\n  }\r\n\r\n  getSearchParam(param) {\r\n    let searchParams = {};\r\n    let keys = [];\r\n    const arrFilter = window.location.search.slice(1).split('&').map(item => item.split('=')).filter(item => item.length > 1);\r\n\r\n    arrFilter.forEach(item => {\r\n      if (item[0] === 'size[]' || item[0] === 'heelSize[]') {\r\n        if (!searchParams[item[0]])\r\n          searchParams[item[0]] = [item[1]]\r\n        else\r\n          searchParams[item[0]].push(item[1]);\r\n      } else {\r\n        searchParams[item[0]] = item[1];\r\n      }\r\n      if (!keys.includes(item[0])) \r\n        keys.push(item[0]);\r\n    });\r\n    if (param === 'keys')\r\n      return keys;\r\n    return param && param !== undefined ? searchParams[param] : searchParams;\r\n  }\r\n\r\n  showFilter(paramKeys, values, withoutPaginationSortBy = false, withoutFilters = false) {\r\n    const params = paramKeys.map(paramKey => this.getSearchParam(paramKey)).filter(item => item !== undefined && item !== null);\r\n    const searchParams = this.getSearchParam();\r\n    let searchKeys = !withoutPaginationSortBy ? this.getSearchParam('keys') \r\n      : !withoutFilters ? this.getSearchParam('keys').filter(item => item !== 'page' && item !== 'sortBy')\r\n      : this.getSearchParam('keys').filter(item => item === 'categoryId' || item === 'search');\r\n    searchKeys = [...searchKeys.slice(searchKeys.indexOf(\"search\"), searchKeys.indexOf(\"search\") + 1),...searchKeys.filter(item => item !== 'search')];\r\n    //console.log(searchParams, params)\r\n    if (params.length) {      \r\n      let index = 0;\r\n      for (const paramKey of paramKeys) {   \r\n        if (paramKey === 'size[]' || paramKey === 'heelSize[]') {\r\n          if( searchParams[paramKey].includes('' + values[index]) ) \r\n            searchParams[paramKey] = searchParams[paramKey].filter(item => +item !== values[index])\r\n          else\r\n            searchParams[paramKey].push('' + values[index]);\r\n        } else {\r\n          searchParams[paramKey] = values[index];\r\n        }\r\n        index++;\r\n      }\r\n      return `?${searchKeys.filter(key => searchParams[key] !== false).map(\r\n          key => {\r\n            if (key === 'size[]' || key === 'heelSize[]') {\r\n              if (searchParams[key].length && searchParams[key][0] !== \"\" && searchParams[key][0])\r\n                return `${searchParams[key].join(',').split(',').map(item => `${key}=${item}`).join('&')}`;              \r\n            } else\r\n              return `${key}=${searchParams[key]}`;\r\n          }  \r\n      ).join('&')}`\r\n      ;\r\n    }\r\n    return searchKeys.length ? '?' + searchKeys.map(key => `${key}=${searchParams[key]}`).join('&') + `&${paramKeys.map((paramKey, index) => `${paramKey}=${values[index]}`).join('&')}` : `?${paramKeys.map((paramKey, index) => `${paramKey}=${values[index]}`).join('&')}`\r\n  }\r\n\r\n  getFetch(url, func, errFunc) {\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(res => {\r\n          if (res.status === 'ok' && typeof func === 'function')\r\n            func(res);\r\n          else\r\n            errFunc(res.message);\r\n        }\r\n      )\r\n      .catch(err => {\r\n        this.setState({isLoading: false, errors: [...this.state.errors, err] })\r\n      });\r\n  }\r\n  \r\n  withWrapper(Component, cls='') {\r\n    return class extends React.Component {\r\n      render() {\r\n        return this.props ?\r\n        <div className={`wrapper ${cls}`}>\r\n          <Component {...this.props} />\r\n        </div> :\r\n        <div className={`wrapper ${cls}`}>\r\n          <Component />\r\n        </div>\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const history = createBrowserHistory({\r\n      basename: process.env.PUBLIC_URL\r\n    });\r\n    const FavoriteWithWrapper = this.withWrapper(Favorite);\r\n    const OrderWithWrapper = this.withWrapper(Order, 'order-wrapper');\r\n    const CatalogWithWrapper = this.withWrapper(Catalog);\r\n    const ProductCardWithWrapper = this.withWrapper(ProductCard);\r\n    return (\r\n      <BrowserRouter basename={process.env.PUBLIC_URL} history={history}>\r\n        <div className=\"container\" >\r\n          <Preloader hidden={!this.state.isLoading} />\r\n          <Header {...this.state} fetchSingleProduct={this.fetchSingleProduct.bind(this)} handleFilter={this.handleFilter.bind(this)} fetchActiveSubcategories={this.fetchActiveSubcategories.bind(this)} showFilter={this.showFilter.bind(this)} history={history} getSearchParam={this.getSearchParam.bind(this)} deleteGoodFromCart={this.deleteGoodFromCart.bind(this)} />                         \r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Homepage {...this.state} handleFavorite={this.handleFavorite} />\r\n            </Route>\r\n            {!this.state.isLoading ? <Route path=\"/catalog\" history={history}>\r\n              <CatalogWithWrapper {...this.state} history={history} getSearchParam={this.getSearchParam} handleFilter={this.handleFilter.bind(this)} handleFavorite={this.handleFavorite} fetchProductsByParams={this.fetchProductsByParams.bind(this)} fetchSizes={this.fetchSizes.bind(this)} showFilter={this.showFilter.bind(this)} />\r\n            </Route> : ''}\r\n            <Route path=\"/order\">\r\n              <OrderWithWrapper {...this.state} fetchSingleProduct={this.fetchSingleProduct.bind(this)} addCart={this.addCart.bind(this)} fetchCart={this.fetchCart.bind(this)} fetchOrder={this.fetchOrder.bind(this)} history={history} />\r\n            </Route>\r\n            <Route path=\"/product_card/:id\">\r\n              <ProductCardWithWrapper {...this.state} fetchSingleProduct={this.fetchSingleProduct.bind(this)} addCart={this.addCart.bind(this)} fetchProductsByParams={this.fetchProductsByParams.bind(this)} handleFilter={this.handleFilter.bind(this)} handleFavorite={this.handleFavorite} addViewed={this.addViewed} fetchCart={this.fetchCart.bind(this)} />\r\n            </Route>\r\n            {!this.state.isLoading ? <Route path=\"/favorite\" history={history}>\r\n              <FavoriteWithWrapper {...this.state} history={history} fetchSingleProduct={this.fetchSingleProduct.bind(this)} fetchProductsByParams={this.fetchProductsByParams.bind(this)} handleFavorite={this.handleFavorite} fetchSizes={this.fetchSizes.bind(this)} handleFilter={this.handleFilter.bind(this)} getSearchParam={this.getSearchParam} showFilter={this.showFilter.bind(this)} />\r\n            </Route> : ''}\r\n          </Switch>\r\n          <Footer />\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}